TO DO
=======

Transfer Order Header

Management valuset: XXKSRM_BRND_MGT ---> LOOKUP_TYPE='KSRM_BRND_MGT'
Govt. Non-Govt. Office Valuset: KSRM_BRND_GOVT_NGOVT_OFFICE ---> LOOKUP_TYPE= KSRM_BRND_GOVT_NGOVT_OFFICE
KSRM Office Valusetr: XXKSRM_OU --->LOOKUP_TYPE='XXKSRM_OU_LIST'
KSRM Office Valusetr: XX_OPERATING_UNITS

kbguat123

applmgr!@#


http://ebsuat.ksrm.com:8010/OA_HTML/OA.jsp?OAFunc=OANEWHOMEPAGE#dummyAnchor1

XX_BRAND_TYPE

New 
201: KSL PO APPROVAL
202: KWSBL PO APPROVAL

201: KSL CPD PO APPROVAL
202: KWSBL CPD PO APPROVAL



New report developed for pending Move order and assigned
Report Name: XXKSRM Pending Move Order
Assigned Responsibility: Inventory Administrator, Kabir Group

pur@brsml.com

40001205

202.01.0000.6010203.001.0000.000.000.000.000
EXHAUST FAN 16 INCH
FA|OEQP|EFAN|000489


LFA= 202.01.0000.4030107.001.0000.000.000.000.000
L= 202.01.0000.4030107.001.0000.000.000.000.000

80001434




EBS Vehicle Wise Fuel Transact Details Report (For Audit)
CM-TA-11-9246

XX_TRIP_NUMBER

XXTRIP_REG_NO
(SELECT DISTINCT REG_NO, TRANSPORT_TYPE, VEHICLE_ID, ORG_ID FROM XX_ONT_TRIP_MT) XXTDA
WHERE TRANSPORT_TYPE = 'Company Vehicle'
AND VEHICLE_ID IS NOT NULL
AND ORG_ID = 103

XX_VEHICLE_NO



MUABIA SB
==========

MO NO-2260251 (Trip No-350378)----New MO NO-(TRM-0102283)
MO NO-2262535 (Trip No-350941)----New MO NO-(TRM-0102284)
MO NO-2259273 (Trip No-350089)----New MO NO-(TRM-0102285)


kg-2825

JOB KNOWLEDGE:Always manage to keeep clear understanding and use technical knowledge creatively to solve problems. 
Quality Of Works: Quality definitely relates to accuracy.For maintaining data accuracy, some process are developed in different module.Example empty cylinder receive process,Trip related process
restrict to cretae move order if stock quantity is les than required qty.
Integrity:  Always try to Keeping my word correctly
Dependability
Punctuality: Maintain a prayority list and complete day to day task. Solve user issues as early as posible and respect office rules properly. 
Teamwork and Interpersonality: 
Initiative and drive:
Willingness to learn and creativity
Leadership
Hardworking:For taking any chalangeing task,hardworking is most important. Developing new legal ENtity "401-Kabir Ship Builders" 


Responsibility Name: Financial Audit, Kabir Group
Report Name:
1. Trial Balance
2. EBS Trial Balance Three Layer
=============================================
Responsibility Name: Inventory Audit, Kabir Group
Report Name:
1.EBS Inventory Valuation Report

How do you write quality of work in appraisal?
  His performance displays exceptional quality and accuracy. 
✓ He accomplished all tasks he is assigned in a timely manner. 
✓ He maintains a good standard of work aligned with a high level of productivity. 
✓ He frequently encourages and helps colleagues to achieve high levels of productivity.





Audit USER
===========

[11:43 AM] HO-IA-RASHADUL:
1   Md shakawat hossain 	KG-6820                Internal Audit 
2.  Mr.Mainul Azam Chy 	KG-1291	Intarnal Audit
3	Md .Rashedul Alam 	KG-1284	Intarnal Audit
4	Mr.Rajib Kumar Nath	KG-3197	Intarnal Audit
5	Mr. Saif  Bin Islam	KG-4358	Intarnal Audit
6	Mr. Sifat al Noor	                KG-7334                Intarnal Audit
7	Mr. Kayes Mahmud	KG-7333	Intarnal Audit


RASHED

Shaikh Md. Ashraful Islam KG-1587
201.Accounts.Accounts.Senior Officer.No

XX_PENDING_MO



UAT
MO-TRM-0102063
TRIP: 349303
MO:   2258430



2260251





TRIP: 349302
MANUAL MO: MO-TRM-0102013
system MO: 2258429




pur@brsml.com

PO : 40000657

OPM CUSTOM PROCESS:
===================

1 XX OPM Batch Cost Allocation Process
2 XX GL Cost Allocation Process

 'MO-TRM-0101963'
CREATION TIME: 16-JAN-2023 09:58:05
Approved Time: 16-JAN-2023 10:13:09 AM
TRANSACTION_TIME: 1/16/2023 10:19:10 AM


MO-TRM-0101965




KAM: BATCH: 4106


TRADE_MARKETING_PO_APPROVAL
OUTDOOR_BRANDING_PO_APPROVAL
PRINT_MEDIA_PO_APPROVAL
KSPL BRAND REQ APPROVAL





10006330
10006317
KSPL BRAND REQ APPROVAL
Md. Mizanul Islam,  KG-3368-->  blooded1131989
KG-7421 --> reyadh1985





STORE & SPARES|CONSUMABLE


SP|MECH|GHOS|002937
FIN CAT: STORE & SPARES|MECHANICAL

SP|ELEC|MODU|042642
STORE & SPARES|ELECTRICAL

PS|STGN|PEN|000654
STORE & SPARES|GENERAL ITEMS

FL|F&LB|EOIL|000012
FUEL & LUBRICANTS|LUBRICANTS OIL





prior period has not beeen cliosed, can not proceed

tag stack not empty worksheet sheetdata row c


NEW REPORT LIST 2023
--======================
NEW REPORT NAME : 
1. XXKSRM ITEM GROUP SUB GROUP WISE TRANSACTION DETAILS
2. EBS Daily Trip Tracking Report
Executable: XX_TRIP_TRACK


272665  


supplier: 
Abu Taher, KG-5308 - 8064



MD. JASHIM UDDIN-(KG-5309)
Abu Taher-(KG-5308)
Address: Bara kumira, Sitakundo, Chittagong
Transport Type: LOW BAT/FORKLIFT/EXCAVATOR OPERATOR
Phone: +8801817241754


Abu Taher,KG-5308
101.Logistics.Logistics.Operator.No






101.Logistics.Logistics.Operator.No

I need a transaction where customer is internal but order type is showing order entry





Customer: ASIF-OY
220002179
220003527


AYUB ALI-OY
15-FEB-2022
10-MAR-2022





Dear All,
I will be on leave for 21 and 22 December 2022. 
Cell-NO: 01929921969 is stand by to receive any emergency issues.





KSPL BRAND PO APPROVAL.

KG-1587 
201.Accounts.Accounts.Senior Officer.No


Md. Moniruzzaman Reyadh
KG-7421
101.Brand.Brand.Deputy Manager.No

Md. Shahed Parvez
KG-7495
101.Brand.Brand.Senior Manager.No

Purchasing Manager, Kabir Group

 
 USER: KG-1587 
 Password: Already Exist
 
 USER: KG-7495
 password:welcome
 
  USER: KG-7421
 password:welcome



FMB_DESTINATION: /d01/kbgapps/fs1/EBSapps/appl/au/12.0.0/forms/US/


TRIP: 327081,327082,327083
MO: 2204830, 2204831,2204832





KG-3023
KG-6673
KG-6230
KG-6229
KG-4654
KG-4048
KG-4718






REQ group: XX Payables User
REPORT: EBS GRN LIST FOR LC COSTING


grn list for LC costing 

kg-6359
EX-138

EBS Purchase Order (Brand)


Request ID 9999533
Payables Module
Loan Number wise balance amount are not shown
Ref: Mr. Belal - Accounts
EXT: 238



102.01.0000.2010101.001.0000.000.000.000.000
102.01.0000.6010205.001.0000.000.000.000.000
102.01.0000.2010302.001.0000.000.000.000.000
102.01.0000.6010203.001.0000.000.000.000.000

APP-PO-14082: A PO charge account is mendatory and could not be determined. Review ypur account Generator setup




This is query issue, 
user have 22 responsibility in system, but because of changing position responsibility shows double 44 , 
I will tiune the query.



UAT SERVER 
putty connection: 
Host Name/IP Address: 192.168.20.244
PORT: 2021


login as: 
ID: applmgr
PASS:applmgr!@#

/d01/kbgapps/fs2/EBSapps/appl/xxerp/12.0.0/forms/US

d YOUR_ENV_FILE_PATH
. ENV_FILE_NAME.env run
cd /d01/kbgapps/fs1/EBSapps/appl/au/12.0.0/forms/US

frmcmp_batch /d01/kbgapps/fs1/EBSapps/appl/au/12.0.0/forms/US/XXTRIPDTLS_FMN.fmb userid=apps/kbgapps123 output_file=/d01/kbgapps/fs1/EBSapps/appl/xxerp/12.0.0/forms/US/XXTRIPDTLS_FMN.fmx


chmod 775 XXTRIPDTLS_FMN.fmb


 AND A.LINE_ID = MMT.MOVE_ORDER_LINE_ID(+)

TRIP: 327080
MO: 2203830





/d01/kbgapps/fs2/EBSapps/appl/xxerp/12.0.0/forms/US



KG-7535
Ext:240 ----> Nazim Vai (Payable screen a query korle data ashe na)

Environment path: 
SOURCE PATH: /d01/kbgapps/fs1/EBSapps/appl/xxerp/12.0.0/forms/US

frmcmp XXTRIPDTLS_FMN.fmb userid=apps/kbgapps123 output_file=/d01/kbgapps/fs2/EBSapps/appl/xxerp/12.0.0/forms/US/XXTRIPDTLS_FMN.fmx

frmcmp_batch userid=apps/kbgapps123 module=XXTRIPDTLS_FMN.fmb output_file=/d01/kbgapps/fs2/EBSapps/appl/xxerp/12.0.0/forms/US/XXTRIPDTLS_FMN.fmx module_type=FORM compile_all=special batch=yes




/d01/kbgapps/fs2/EBSapps/appl

PVC TAPE 3/4 INCH
SP|ELEC|PTAP|002529



4030201


IR: 10005927, 10005928

SR|BRND|OBND|000054 --> TRAIN BRANDING
FIN CAT: SERVICE|BRAND
INVENTORY CATEGORY: SERVICE|BRANDING ITEMS|OUTDOOR BRANDING|0



TEST IN UAT
==============
TRIP: 327074 ---> 327075
MO: 2199830


TRIP: 327077
MO: 2200831
CM-SHA-11-1683
===========================


Regarding Branding item Issue we was  

Assalamualikum,
Have a plan today to seat with(Irfan Vai, Arefin Vai and we)regarding Branding Items

TRIP: 327078
MO: 2200832
CM-SHA-11-1680


TRIP: 327079
CM-SHA-11-1680
MO: 



PO NO: 397176
OU: 104
PODATE FROM:          YYYY/MM/DD HH24:MI:SS               2023/1/1 11:04:20
PO DATE TO:           YYYY/MM/DD HH24:MI:SS               2023/1/17 11:04:20
                                                          RM|SCRP|HMSL|000001








Shahin vai is shown the process, Now he is capable to complete the task 







Payables User, Kabir Group
Receivables User, Kabir Group



 

KSL-IC-SALE-KPPL
KSL-IC-SALE-KSBIL

KSL-INTER COMPANY PRICE LIST



Also Remove this 
REQUEST GROUP:  OPM GMF Request Group MIS	
RESPONSIBILITY:  OPM Financials (MIS)

Abu Ayaj, KG-6688
This Employee has LEFT KSRM
So....................


Need to Inactive this USER

Md. Mosharaf Hossain, KG-4091
This Employee has LEFT KSRM
So....................


Need to Inactive this USER








mtl_transaction_flow_headers_v 
mtl_transaction_flow_lines_v 

inter company payable / receiveable = 4030201
 4030201


4211020144377
4211020144379
4211020144381


APP-PO14082 a po CHARGE account is mendatory and could not be detarmined . review your account genetor setup

IN UAT TEST:

Materia Account : 13243
MATERIAL_OVERHEAD_ACCOUNT: 13243
RESOURCE_ACCOUNT: 13246
PURCHASE_PRICE_VAR_ACCOUNT:4041
AP_ACCRUAL_ACCOUNT:13251
OVERHEAD_ACCOUNT:13245
OUTSIDE_PROCESSING_ACCOUNT:13244
INTRANSIT_INV_ACCOUNT: 13243
INTERORG_RECEIVABLES_ACCOUNT:13248
INTERORG_PRICE_VAR_ACCOUNT:4041
INTERORG_PAYABLES_ACCOUNT:13248
COST_OF_SALES_ACCOUNT:13253
INTERORG_TRANSFER_CR_ACCOUNT: 13247
INVOICE_PRICE_VAR_ACCOUNT: 13250
AVERAGE_COST_VAR_ACCOUNT: 13255
SALES_ACCOUNT:13252
EXPENSE_ACCOUNT: 13247

13243,13243,13246,4041,13251,13245,13244,13243,13248,4041,13248,13253,13247,13250,13255,13252,13247

PR: 10003913
PO: 40020374--> TRM, 40020375--> TRA, 
TRM GRN-- 80004695
TRA GEN-- 80006457

TRA: 
CHARGE ACCOUNT :102.01.0000.2010101.001.0000.000.000.000.000
PO Accrual Account: 102.01.0000.4030107.001.0000.000.000.000.000
PO PRICE VARIENCE ACCOUNT: 102.01.0000.6010107.001.0000.000.000.000.000

TRM 
CHARGE ACCOUNT: 102.01.0000.2010101.001.0000.000.000.000.000
PO Accrual Account: 102.03.0000.4030107.001.0000.000.000.000.000
PO PRICE VARIENCE ACCOUNT: 102.03.0000.6010107.001.0000.000.000.000.000

GRN 
TRM GRN-- 80004695
TRA GEN-- 80006457






KG: 
Assets User, 100-Steel --> keep and release rest
LCM User, 100-Steel --> Add and release rest
Cash Management User, 100-Steel
Assets User, 200-Ship Breaking
General Ledger User, 100-Steel
Payables User, 100-Steel --> keep and release rest
Receivables User, 100-Steel -->--> keep and release rest




BLANKET po
==========
po:40014991
GRN: 80030406




RECEPI:SF|BILT|500|000001



KBIL MECHANICAL REQ APPROVL  10005935 DONE 
KBIL CCM REQ APPROVL 10005887
KBIL FURNACE & LRF REQ APPROVL 10005931, 10005904
KBIL REQ OXYGEN PLANT APPROVAL












Inventory_Manager_Transport
Payables Manager, 102-Transport
Receivables Manager, 102-Transport
Order Management User, 102-Transport
Transport Billing Operation Audit, Kabir Group


XXKSRM Inventory Stock Valuation

EBS Loan Position Bank wise Details (Management)
EBS Loan Position Bank wise Summary (Management)
EBS Loan Position LE Wise Summary (Management)





10005887

cd YOUR_ENV_FILE_PATH
. ENV_FILE_NAME.env run
cd /d01/kbgapps/fs1/EBSapps/appl/au/12.0.0/forms/US
frmcmp YOUR_FMB_NAME.fmb userid=USER_NAME/PASSWORD output_file=YOUR_FMX_PATH/YOUR_FMB_NAME.fmx



Receiving Exception

40021051 11/16/2022 1:27:08 PM  16-NOV-2022 20:50:35
80006758  11/17/2022 9:23:21 AM

40021051 --> 102.03.0000.4030107.001.0000.000.000.000.000 Price varience: 102.03.0000.6010107.001.0000.000.000.000.000
40021363---> 102.03.0000.4030107.001.0000.000.000.000.000, TRA: 102.01.0000.4030107.001.0000.000.000.000.000
40021290,40021230

TRIP NUMBER:327073, 327072,  327071,
MOVE ORDER: 2196834, 2196833, 2196832
vehicle:CM-DHA-81-3191
DRIVER: ABDUR RAHIM-(TP-1516)










102-KSRM Steel Plant Ltd (Transport)
Vehicle: CM-TA-11-5050
requester:Jahid Hossain,  KG-3157
customer: KSPL Kalurghat
oadingwarehouse:KSK
Listed driver name: JOYNAL ABEDIN-(TP-1650)
contact: '+8801811322969





M.V JAHAN MONI : 05
M.V JAHAN MONI : 06

Jahan Moni 1


Valuset Name: XXKSRM_USE_AREA_VS
Table name: XXKSRM_INV_USE_AREA_V
Lookup type: XXKSRM_USE_AREA (Application Developer--> lookup common--> XXKSRM_USE_AREA)




BATCH: 3578 , 2710


Dear Sir,

Assalamualikum, 
As per instruction we configured a new Legal Entity "401-Khawja Ship Builders Limited". 
below Modules are ready for user entry :

* Purchasing Module, 
* Inventory Module, 
* Order Management Module, 
* Payable Module  

Production server is ready for Users entry purpose from today.










New valuset: XX_ITEMS_INV
OLD VALUSET: XX_ITEM_LIST





Computer & IT Equipment-1010107

the dark knight 

SP|MECH|PLAT|020909








TO: pur@brsml.com;oldyard@ksrm.com.bd;ksbl@brsml.com.bd	
CC: nabab@ksrm.com.bd;nhsiddiquee@ksrm.com.bd;mostafa.anwar@ksrm.com.bd;golam.sorwar@ksrm.com.bd;
mamun.abdullah@ksrm.com.bd;erp.p2p@ksrm.com.bd

Dear Nakib Bhai/ Irfan Bhai/Sazzad Bhai,

As per requirement we Configured LE- "401-Khawja Ship Builders Limited". Now need to Create Approval Path for IR, PR and  PO
For this purpose we rquired the name with KG-ID (Like: Created By, Checked By, Approved By). We also shared a Excel file. Please 
fillup the sheet as per over phone discussion.






start: 201-Kabir Steel Limited  KLM
END  : 401-Khawja Ship Builders Limited   BLO




ksbl@brsml.com.bd

oy-0279

oldyard@ksrm.com.bd; pur@brsml.com;ksbl@brsml.com.bd
mamun.abdullah@ksrm.com.bd





START:203-Kabir Ship Breaking Limited
END: 105-Kabir Oxygen Ltd.
Start Date: 27-NOV-2022 11:45:47


START: 103-KSRM Steel Plant Ltd  (Melting)
END: 203-Kabir Ship Breaking Limited
Start Date:27-NOV-2022 11:50:55


KBIL-IC-SALE-KSBL
103.01.0000.6010101.001.0000.000.000.000.000

KBIL-IC-SALE-KSBL
103.01.0000.6010101.001.0000.000.000.000.000

new: XX_ITEMS_INV 

p_item_id

(SELECT distinct CONCATENATED_SEGMENTS,description,inventory_item_id from mtl_system_items_kfv) MST

MST.CONCATENATED_SEGMENTS
MST.description
MST.inventory_item_id





SP|MECH|BOLR|031280
SBO 203
KOM 105





3174


transaction ID:
15048836
15048813
15048812
15048806

XXKSRM GRN Local (UOM Wise)

201.Information Communication & Technology.ERP.Assistant Manager.No

IR: 10000045 ---  KPM Need this item "CAPACITOR 25 KVAR (400 V 50 HZ), 50/60 C" from KSM
ISO: 2220000000847
ORDER TYPE: KSPL-IC-SALE-KPPL
Price_list: KSPL-INTER COMPANY PRICE LIST

PRICE LIST FOR LE-401
======================
KSL-INTER COMPANY PRICE LIST
KWSBL-INTER COMPANY PRICE LIST

ORDER LINE Type
============
KSL-IC-SALE-KSBIL LINE
KWSBL-IC-SALE-KSBIL LINE

ORDER Type
============
KSL-IC-SALE-KSBIL
KWSBL-IC-SALE-KSBIL

DOC SEQUENCE 
==============
KWSBL-IC-SALE-KSBIL_22
KSL-IC-SALE-KSBIL_22

KBG-IC-SALE-22


RESPONSIBILITY ON PRODUCTION FOR LE-401
=======================================

General Ledger Manager, 401-KSBIL
General Ledger User, 401-KSBIL
General Ledger Administrator, 401-KSBIL
Purchase Requisition User, 401-KSBIL
Purchasing User, 401-KSBIL
Inventory_Manager_KSBIL
Purchasing Manager, 401-KSBIL
Payables Manager, 401-KSBIL
LCM Manager, 401-KSBIL
Purchase Requisition Manager, 401-KSBIL
Inventory_MO_Preparer_KSBIL

Order Management Manager, 202-KWSL


intercompany transaction flow:
 Transaction id:15374176 Challan No: 4211020124785
 Transaction Id:15048836  Challan No: 4211020117390

MENU:
XX_PR_USER
XX_PO_USER

XX_PR_MANAGER
XX_PO_MANAGER






Tag stack not empty: worksheet sheetData row c



MO-TRM-0098934

Driver valuset: XXTRIPDTLS_DRIVER
new valuset: XX_DRIVER_LIST
KG-6359




KBIL ELECTRICAL REQ APPROVL --> DONE
KBIL MECHANICAL REQ APPROVL --> Done
KBIL CCM REQ APPROVL  --> Done
KBIL REQ OXYGEN PLANT APPROVAL --Done
KBIL FURNACE & LRF REQ APPROVL --> Done 




I filled up the basic information,  we can seat at your convenient time, please inform me  



KSBIL IR: 10000024
KASIL ISO: 220000004
OD: 22171000001
CHALLAN: 4211020130870
MO:2191830
Receipt against challan--> GRN: 80000005







10000015 KBM
10000017 KWM    ----KWSBL-IC-SEQ-KSBIL-22
Internal Customer FRO KASIL (KAM): KASIL Manufacturing Unit
==============================================================
PRICE LIST: KASIL-INTER-COMPANY-PRICE-LIST  ---> KASIL-INTER COMPANY PRICE LIST
Order line type: KASIL-IC-SALE-KSBIL_LINE
Order Type: KASIL-IC-SALE-KSBIL
DOC-SEQUENCE NAME : KASIL-IC-SEQ-KSBIL-22


1. Organization ACCESS
2. SHipping NETWORK
3. Item Assign Between KAM and BLO
4. Create PRICE-LIST 
5. Create Order line type
6. Create ordar type 
7. Assign Line type in Order type and Validate 
8. Assign BLO as a customer with KAM


No Sales Credit
220000001

IR: 10000021   ISO: 220000001


PRICE LIST: KBIL-INTER-COMPANY-PRICE-LIST  
Order line type: KBIL-IC-SALE-KSBIL_LINE
Order Type: KBIL-IC-SALE-KSBIL
DOC-SEQUENCE NAME : KBIL-IC-SEQ-KSBIL-22

202.01.0000.4030107.001.0000.000.000.000.000

SP|MECH|DFLT|006949
SP|MECH|OKIT|042182
SP|MECH|VBLT|016834

SP|MECH|DFLT|006949
FIN: STORE & SPARES|MECHANICAL
INV: STORE & SPARES|MECHANICAL|DIESEL FILTER|0


SP|MECH|OKIT|042182
FIN:  STORE & SPARES|MECHANICAL
INV: STORE & SPARES|MECHANICAL|ENGINE ITEM|0

SP|MECH|VBLT|016834
STORE & SPARES|MECHANICAL
STORE & SPARES|MECHANICAL|V BELT|0


PRICE LIST: KWSBL-INTER-COMPANY-PRICE-LIST
DOC-SEQUENCE NAME : KWSBL-IC-SEQ-KSBIL-22
Order Type: KWSBL-IC-SALE-KSBIL
Order line type: KWSBL-IC-SALE-KSBIL_LINE

2210100000001




Internal Customer in UAT

suctomer name: KSBIL OLD YARD

Customer name: KBIL Manufacturing Unit


KG-6688	Abu Ayaj, KG-6688 ---> Still now active 
EBS Income Statement
RQ: XX General Ledger Manager
    OPM GMF Request Group MIS


EBS Financial Position
EBS Income Statement

EBS Income Statement Details

EBS Financial Position Details
EBS Financial Notes
EBS Trial Balance



KWSBL Manufacturing Unit



  Tripno	Vehicle Number 	Current Customer Name	Updated Customer Name	Date	Trip Status
  333497	CTG-TA-05-0523	KSPL Manufacturing Unit	KWSBL New Yard	10.11.2022	Complete.
  
  Trip Number	Vehicle Number	Existing Related Concern	Updated Related Concern
  332339	CM-DHA-81-1507	KSPL Barabkunda - 52001	KSPL  Manufacturing Unit












Destination Location requires customer association in the source organization

MD. JAMSHED-(TP-181)

Un submited trip : 15177,19212,192944,20162,61553,83249,91299,92564,9802


Actual KG ID is :    KG-5829
Transport Billing Operation ,Kabir Group.

You just need to set below profile options
(SYstem Administrator > Profile > System)
FND: SMTP Host
FND: SMTP Port

10005988


1. Mr Raihan wants some automation (KPL will be auto generated when captured vehicle, when captured from -TO location system will calculate fooding,Trip Allowence etc as per policy)
2. Driver wise and Vehicle wise report not matched
3. 



Md. Tareq Mahamud, KG-6667

KPPL IT PR APPROVAL



Agrre and we can offer some coffee mate free for customer satisfaction!!


ISO number: 2220000002792, 2220000002793

4030201
4030201


EBS GL Reconcilation with Draft Accounting

XDODTEXE
XXKSPL_DAILY_PROD_RPT

Baipail bosundhora abshik ---> 

01886224688  --->

KSPL BRAND REQ APPROVAL
KSPL Brand Requisition APROVAL
KSPL Brand PO_BPA APPROVAL
KSPL Brand PO APPROVAL


SP|MECH|DFLT|006949
SP|MECH|OKIT|042182
SP|MECH|VBLT|016834

Open Period Control




ERROR: 
Value 401 for the flexfield segment Company does not exist in the value set XX_COMPANY.



TO: oldyard@ksrm.com.bd; pur@brsml.com

CC: 



201.Information Communication & Technology.ERP.Assistant Manager.No

Dear Concern,

As per requirement we developed/configured Oracle EBS instance for LE-"401-Khawja Ship Builders Limited" in UAT. 
For User Exceptence Tast purpose, you are requested to join on 30-OCT-2022 at 10:00 AM in head office ERP Confeence room.

USER Name                   KG-ID
---------------             ------------
Rownak Gias Nakib       --> KG-3925
Irfan Sarkar            --> OY-0115



Best regards






YYYY/MM/DD HH24:MI:SS



01-FEB-2022
 
receiveable--> EBS Segment Wise Ledger
ksrm reconciliation--> trail balance

VALUCOST ADJUSTMENT ITEM: 
=========================

ITEM: PS|STGN|CLNR|000727 
valu cost: 1200

PS|STGN|STAN|000527
valu: 5000

EBS Comparative Statement (CS) Report
Short name: XXPOCSS



PO: 40000274

Journal Line Type
Constan
CAD


Operating Unit
Constant

STORE & SPARES|CONSUMABLE


Subledger Accounting was unable to derive an accounting 
code combination using the account derivation rule 
KG_INV_VALUATION owned by Oracle. Please review the 
account derivation rule and make sure it derives 
a valid accounting flexfield combination for
 the source values passed for the transaction.



PO: 40000252
SP|GENE|SHOE|003136

GMF_SRS_LEGAL_ENTITIES_VS


Requisition From: XX_PR_NO


101.MCD.Store.Deputy Manager.Yes
101.MCD.Store.Deputy Manager.Yes



Opening Balance for LE-106 for the month of JAN-22
==================================================

STEP-1
=========
1. CLOSE PO, AP, AR,OPM for the month of JAN-22
2. UPLOAD OPENING BALANCE DATA
3. RUN DRAFT PROCESS 
IF total amount is ok then run final process to send data in GL

STEP-2
=======
make some transactions for the month of feb-22
make a value cost adjustment for any item to see the accounting impact
close PO, AP, AR,OPM for the month of FEB-22 to see the prior period cost os ok or not 



103.HR & Admin.Logistics.Senior Manager.1ST

10005887

KSPL CUD MECHANICAL REQ APPROV



SADARGHAT JETTY PO APPROVAL
KPPL_PO_APPROVAL
201.Central Procurement.Central Procurement.Assistant Manager.No


API LOAD
========
item: CV|CVGN|EPAN|000182
Period: AUG-18




KPM:  
SP|GENE|SHOE|003136




KSRM_ACT

BP|SCRP|NFER|000058




FIRMULATOR---> FORMULAS--> SF|BILT|G-80|000030
==================
SF|BILT|G-80|000030



EBS Intercompany Reconcilation Details
XXINTERCOMPANYRECONLEWISE

parameter:  201-Kabir Steel Limited
01-JAN-2020 to 31-AUG-2022 



ho-acc-arshad

Please Provide IVA Data format below sequence for next time from quick update
==============================================================================
TXN_ID 
INVENTORY_ITEM_ID
ORG_ID
TRX_TYPE_ID
WORNG_ACC_CODE
CORRCT_ACC_CODE







XX_KSRM_SLA_INV_CAT

KBG Accounting Flexfield

EBS LC In Transit Reconciliation Summary

KSRM Steel Plant Ltd  (Melting).Kabir Group.Information Communication & Technology.Depreciation Expenses-Factory.Depreciation Expenses-Lighter Ship.Default.No Intercompany.Deault.Deault.Default
KSRM Steel Plant Ltd  (Melting).Kabir Group.Information Communication & Technology.Depreciation Expenses-Factory.Depreciation Expenses-Lighter Ship.Default.No Intercompany.Deault.Deault.Default





SP|MECH|BUSH|019056


https://www.youtube.com/watch?v=rbrCuuJ2uMM&t=1052s


LC: 1607-22-01-0366

INT-KBD-0026357

TRIP FORM LOCATION IN DEV
==============================
eport location: /d01/kbgapps/fs1/EBSapps/appl/xxerp/12.0.0/reports/US

form location: /d01/kbgapps/fs1/EBSapps/appl/fnd/12.0.0/forms/US/XXTRIPDTLS_FMN.fmx

/d01/kbgapps/fs1/EBSapps/appl/fnd/12.0.0/forms/US/XXTRIPDTLS_FMN.fmx

/d01/kbgapps/fs1/EBSapps/appl/au/12.0.0/forms/US







REQUEST GROUP:
==================

GL Concurrent Program Group
XX General Ledger User
XX General Ledger Manager
GL Concurrent Program Group
GL_AUDIT
XX General Ledger User
FIN_AUDIT






Calender user error: XX_trip_test nevigating directly to calender(check/first/Next/previous navigation blog property)


SET PROFILE OPTION
===================
%HR%Secu% , 

Purchase Requisition User, 401-KSBIL


XX_AP_TDS_VDS_V 
XX_AP_TDSVDSRET_VW

Create New Responsibility: 
===========================
Responsibility Key: XX_PO_USER_KBIL
Menu: XX_PO_USER, XX_PR_USER
Request Group: XX Purchasing User

APP-PO-14142: po-moac_utils_pvt.initialize-010:ORA-2001, you dont have access previlize to any operating units

APP-FND02902:multiorg Profile option is required 

Purchase Requisition User, 103-KBIL
Purchase Requisition User, 401-KSBIL


				Md. Shakhawath Ullah	Senior Assistant	KG-2160							

103.01.0000.2010205.001.0000.000.000.000.000
arrahman
40019724

FA|P&MC|PMCH|001502
HUNAN KEMEIDA ELECTRIC CO. LTD.


FUNCTION: TRIP TEST  FUN
--==========================
========== FOR NEW ORG KB6=====
====================================
DEV server system ID PASS
==========================
host: 192.168.20.249
id: applmgr
Pass: appldevkbg

DEV Server
ID: apps
PASS: devapps123
Database: DEVDB
---------------------------

module name: XX_TRIP_TEST
window name: XX_TRIPTST_WIN
CANVUS: XX_TRIPTSTT_CAN

FORM COMPILE PATH:
==================== 
REPORT PATH:  /d01/kbgapps/fs1/EBSapps/appl/xxerp/12.0.0/reports/US

Forms Path : /d01/kbgapps/fs1/EBSapps/appl/au/12.0.0/forms/US/
Fmx Path : /d01/kbgapps/fs1/EBSapps/appl/xxerp/12.0.0/forms/US/

cd /d01/kbgapps
. EBSapps.env run
cd /d01/kbgapps/fs1/EBSapps/appl/au/12.0.0/forms/US
frmcmp XXONT_TRIP.fmb userid=apps/kbgapps123 output_file=/d01/kbgapps/fs1/EBSapps/appl/xxerp/12.0.0/forms/US/XXONT_TRIP.fmx


Power cinsumption issue is Shared with iftekhar vai,We nedd a little time to discuss with you.  


LC Form running path UAT :   /d01/kbgapps/fs1/EBSapps/appl/fnd/12.0.0/forms/US/XXLC.fmx
LC Form running path DEV :	 /d01/kbgapps/fs1/EBSapps/appl/fnd/12.0.0/forms/US/XXLC.fmx

SELECT XX_GET_EMP_NAME_FROM_USER_ID('1243')  FROM FND_USER



201.Information Communication & Technology.ERP.Assistant Manager.No

EBS Customer Balance Accumulated

HR_OPERATING_UNITS

XX_OU_NAME

XXKSRM_USE_AREA_VS

Update Of : EBS Customer Balance Accumulated
Executable: XXACCUMULATEDCUSTOMERBALANCE



S.M. Abdul Kayum Sikdar
KG-6721
201.Central Procurement.Central Procurement.Assistant Manager.No


401.01.0000.2010101.001.0000.000.000.000.000



FORMS_PATH is:  D:\DevSuiteHome_1\cgenf61\admin;D:\DevSuiteHome_1\forms; D:\C\Desktop\newforms;F:\KSRM\FORMS__RESOURCE; 


MO-KPM-0003128


POSITION
==========
Robiul Vai:  201.Information Communication & Technology.ERP.Junior Officer.No
sohel: 201.Information Communication & Technology.ERP.Assistant Manager.No

Rofikul ALAM KG-5697 : 101.MCD.Store.Assistant.No


1.	POWER CIVIL REQ APPROVAL
2.	POWER ENERGY REQ APPROVAL 
3.	POWER HR & ADMIN REQ APPROVAL
4.	POWER SUB STATION REQ APPROVAL
5.	POWER PLANT REQ APPROVAL
 

SP|STEL|MPLT|017294

STORE & SPARES|MECHANICAL
STORE & SPARES|MECHANICAL|PLATE_ANGLE_CHANNEL_SHEET_BEAM|0



101.Electrical.Technical.General Manager.Yes

TODAY
========= 

DEV a POWER er testing
==========================

1. Create PO in KSPL: 40012387
GRN: 80010611
MO: MO-KSM-0120607
2. Sub inventory create: C_Bus_Bar --> KSPL Power Common Bus Bar
ITEM: RM|NGAS|GAS|000020	NATURAL GAS-KSRM
Supplier: KARNAPHULI GAS DISTRIBUTION COMPANY LTD
PO QTY: 1008422

3. Create Miscilinius Receive for item: FG|PWER|OFPK|000151	OFF PEAK HOUR POWER (102), FG|PWER|PEAK|000150	PEAK HOUR POWER (102)
4. Create A move order: MO-KSM-0120608

Robilu Bhai (ERP) making some tansaction 


SP|GENE|PWDR|005906


Ashraful SB
============  1871923
report name: EBS Cheque History Report
EBS BANK LEDGER

New Report Name: EBS TDS and VDS pending Report

Exsit report for REFERENCES
===========================
EBS TDS Statement Reports

Parameter:
Legal Entity Name: Valuset: XX_LE_NAME
Supplier Name:XX_SUPPLIER_NAME
Account Name: XX_TDS_ACCOUNT
GL Date From:FND_STANDARD_DATE
GL Date To:FND_STANDARD_DATE
Natural Account: XX_NATURAL_ACCOUNT
My created natural accpount:
XX_TDS_VDS_ACC

NOTE: First of all these parameters are set for all the organizations then these are
defined for individual OPM orgs. As shown in the below screen shots

01908400965 --> Monaf sb (production in charge) --->/kasil

Supplier: LINDE BANGLADESH LIMITED-1239

VOUCHER: 220006638
		 220006640  --> 222222222
		 

		 
		 KSBIL-AR-RCV-NY-2022
		 
		 
		 64995
		 
		 











Run   
Function: Run Concurrent Programs - N-Tier Marketing   
Description: Run Concurrent requests

View
Function: Concurrent Requests: View All (User Mode)
Description: View requests

Set
Function: Request Sets (User Mode)
Description: Define Request Sets

=========================================

MENU: XX_AR_REPORT_MENU
USER MENU NAME: XX_AR_REPORT_MENU
MENU TYPE: Standard
DESCRIPTION: For run AR report

PROMPT: Run Reports
DESCRIPTION: View concurrent requests


Can we sit for a short meeting only for 5 minutes? 


EBS TDS Statement Reports

INVOICE NUM: FERRO-PO-40011367

AP INV-220004715

Golam Sarwear KG-502
Position: 101.MCD.Store.Assistant General Manager.No

Shafiul Azam, KG-624 
Position: 103.Electrical.Electrical.Manager.No

Assalamualikum,
Dear All,
We all want to take Coffee for one time, 


Who are interested to take One time coffee and one time Tea.


Dear sir, 
In order to binding the MS Re-Bar 8.mm coil rods, Khawaja re-rolling with the permission of management,
khawja re-rolling brings 3.25 mm wires from Khawja wire factory every month, there was a request 
to increase the stock of these wire with MS Re-Bar 8.mm coil.


 khorshed's requirement is clear, need to see an entry in UAT,
 Talked with him for sitting at 10.00 am


TOTAL ACTIVE ITEM: 51424, 
When we setup "Over Receipt Quantity Control" as reject Yet system allow to receive over quantity 


PO: 40011733, 40011734, 
40011735 ---> 80010058
BALL PEN (BLACK)
PS|STGN|PEN|000655

24-JUL-22
==========

 











102.03.0000.6010108.001.0000.000.000.000.000

102.01.1008.6010203.004.0000.000.000
---===========================================================================

Transaction ID: 14637930
transaction type id = 241 --> er poriborte 
111 --> Issue Return hobe
GL Account CODE= 623544 ---> 102.03.0000.6010108.001.0000.000.000.000.000 eta change hoe 
Eta HOBE: 60531 ---> 102.01.1008.6010203.004.0000.000.000.000.000

update mtl_material_transactions
set DISTRIBUTION_ACCOUNT_ID = 60531,
TRANSACTION_TYPE_ID= 111
where transaction_id=14637930

23454567

KBIL CUD MECHANICAL REQ APPROL





po: 40005119
org: KLH

Meeting Date: 28-MAY-2022
Discussion POints are as below:

1. As per requirement Move Order create rescriction is OK in UAT. we will update in PROD 
2. Add Locator column in Move order report 
3. Add 30 days consumption data in notification screen. (Not Possible)
4. Need to change dapertment of a apecific employee in HR data. User will send a mail with KG-ID.
5. Some issues on Fixed asset with Mr. Ibrahim(ERP)




PS|STGN|PEN|000655
CV|CVGN|CPAN|002931
 


80000775

TOTAL BATCH : 84 
ALL Batches are closed for the month of APR-22


New Report is ouploaded in Production Server

REPORT NAME: EBS GRN LIST FOR LC COSTING
RESPONSIBILITY: KSRM Reconciliation Responsibility


ORGANIZATION_CODE
ORGANIZATION_NAME
ORGANIZATION_CODE

operating_unit= NVL(:$PROFILES$.ORG_ID:NULL,operating_unit)


NEW INV VALUSET: XX_INV_ORG

EBS COGS Statement Report

EXECUTABLE: XXGRNLISTFORLC
REPORT NAME: EBS GRN LIST FOR LC COSTING
Ledger: XX_GL_LEDGER
OU: XX_OU_NAME
Period: XX_COST_PERIOD
IND ORG: XXKSRM_MO_ORG
ITEM : XXKSRM_INV_ITEM


Today I am roza , There is no office arrangement today, So I will leave office 15 minutes early




1036	PS|STGN|PEN|000655	BALL PEN (BLACK)

923	PS|BRND|PEN|000165	KSRM GEL PEN

 '4211020098746'

LC NUMBER= 0731-21-02-0079
PREVIUOS PO: 40009635
NEW PO= 40013193

TOMAI_MAIN_HEADER_BLK.DONE



(:ORDER.SHIPPING_INSTRUCTIONS IS NULL 
OR
:ORDER.PACKING_INSTRUCTIONS IS NULL)
AND :ORDER.ORG_ID not in (102,103,105)
AND :ORDER.BLANKET_NUMBER IS NULL


 /d01/kbgapps/fs1/EBSapps/appl/inv/12.0.0/forms/US/INVTOMAI.fmx --> INVTOMAI.fmb

BLOCK: TOMAI_MAIN_LINES_BLK
FIELD: QUANTITY 



KG-4691	68604972  --> 10005085



2018/11/12 11:04:20

KBIL REQUISITION APPROVAL

KAKAN CHOWDHURY, KG-4691
MIJANUR RAHMAN,     KG-6622
IQBAL HOSSAIN,            KG-6623



103-KSRM Steel Plant Ltd  (Melting)
KBD

purpose, use of are,



PURPOSE USEOFAREA




HEADER
=========

<?crosstab:c723;"//G_ORGANIZATION_ID";"SALES_PERSON_NAME{,o=a,t=t},MOVE_ORDER_NUMBER{,o=a,t=t},MOVE_ORDER_DATE{,o=a,t=t},ZONE{,o=a,t=t},REZION{,o=a,t=t},AREA{,o=a,t=t},TERITORY{,o=a,t=t},";"DESCRIPTION{,o=a,t=t}";"MO_QTY";"sum"?>






LCM Shipment Headers (INL_SHIP_HEADERS_ALL)

LCM Shipment Line Groups (INL_SHIP_LINE_GROUPS)

LCM Shipment Lines (INL_SHIP_LINES_ALL)

LCM Charge Lines (INL_CHARGE_LINES)

LCM Tax Lines (INL_TAX_LINES)

Landed Cost Allocations (INL_ALLOCATIONS)

SELECT * FROM INL_SHIP_HEADERS_ALL
SELECT * FROM INL_SHIP_LINES_ALL
SELECT * FROM INL_CHARGE_LINES
SELECT * FROM INL_TAX_LINES
SELECT * FROM INL_ALLOCATIONS
SELECT * FROM INL_SHIP_LINE_GROUPS












Dear Sir,

For your kind information I feel proud to be a candidate  in sush a susceptible organization.


Best Regards
Md Sohel Hossain
Cell- 01913658403


01729062607 ---> Jamal Vai Partex

10000079 ---> 


31-MAR-2022 23:59:00

total Batches: 89
All Batches are closed


KG-5516

Name: Mohammad Saleh Uddin
This user is removed from all Apprival Hierarchy.
Note: only one pending PR was found 
Position: 103.Plant.Plant In-charge.Deputy General Manager.No






Dear Sir,

"XXKSRM Item Stock IO Wise"  report is designed as Operating unit wise. Under Operating Unit  it will also show IO wise. 
Please confirm us  the report data is perfect or have any findings.


<?USEOFAREA?>

 
 <?crosstab:c723;"//G_ORGANIZATION_ID";"SALES_PERSON_NAME{,o=a,t=t},MOVE_ORDER_NUMBER{,o=a,t=t},MOVE_ORDER_DATE{,o=a,t=t},ZONE{,o=a,t=t},REZION{,o=a,t=t},AREA{,o=a,t=t},TERITORY{,o=a,t=t},";"DESCRIPTION{,o=a,t=t}";"MO_QTY";"sum"?>





*** ALL task have to be clean and steps by step
1. Personalization of every form where user can not entry more than previous 15 days
2. Query for get opm incomplete batch and send to the user to complete 
***3. query to get all data which was transaction date is less than one month than creation date --> Done and saved in My_Observation-sql
4.  To understand SMS
***5. to understand O2C Full Process --> BUSINESS PROCESS, AS IS , TO BE, SET UP, (Create Customer,Price list Setup,II.	Modifier (Discount & Surcharge))
6. Meeting about Finance category of Items
7. Have to collect closing process step by step 
8. API --> for monthly requisition convert to Purchase creation Through API (Audit Requirement)


TO DAY
============

Dear Sir,

As per mail information, Tomorrow 19-JUN-2022 at 11:00 AM we will arrange a session for  User Tarining . 
We expect  All Users will be available. 


Best Regards...

  


golam.sorwar@ksrm.com.bd; mamun.abdullah@ksrm.com.bd; muntasir.mamun@ksrm.com.bd; kamrul.islam@ksrm.com.bd;
 nazrul.islam@ksrm.com.bd; shahadot.hoshen@ksrm.com.bd; barabkunda.store@ksrm.com.bd
 
barabkunda.store@ksrm.com.bd


EBS GRN LIST FOR LC COSTING Is added under responsibility "LCM User, 103-KBIL"

102.01.0000.2010202.001.0000.000.000.000.000

102.03.1008.6010203.001.0000.000.000.000.000



LINES
ITEM_DESCRIPTION




6800424
12030528
12030448
14509675
14509676
14509677

185577

CV|CVGN|PBRS|000721



We can skip this warning ... Please Go Ahed 


Found Pending Receiving Transactions isn Inventory Accounting Period in CST

Doc id 1069492.1

POS_VENDOR_PUB_PKG


APP-INV-0507 quqntity will derive inventory Negative

SETUP NEW ORG KPH:
==========================================================
LOCATION: KPPL Head Office
LOCATION ADDRESS: Kabir Manzil
			Sk. Mujib Road
			Agrabad
			Chittagong
			BDBD
			

checking: done			
ITEM: SP|ELEC|ACB|000088			
PO: 40000109
GRN: 80000002
MO: MO-KPH-0001001	
IOT: INT-KPH-0001000 for KPM ---> GRN IN KPM: 80000148		


SP|ELEC|TMTR|031239

SETUP NEW ORG TRS:
==========================================================
NEW: 
Location: KSRM Transport Sadarghat

Subinventory: TRS_MStore  Transport Sadarghat Mainstore
			  TRS_RTV     Transport Sadarghat RTV
			  TRSWastage  Transport Sadarghat Wastage




PO: 40016904
GRN: 80000001



10003536

ITEM: PS|STGN|PEN|000655

IR: 10003536,
    10003537  ---> 2220000001325
	10003538  ---> 2220000001327 ---> od/shipping number: 22163000056--> HALLAN: 4211020101249--> mo: 2069983
	10003539 


--============================
SEQUENCE CREATE
--============================

DROP SEQUENCE XXERP.XXKSRM_IOT_SEQ_TRS;

CREATE SEQUENCE XXERP.XXKSRM_IOT_SEQ_TRS
  START WITH 5426
  MAXVALUE 9999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  CACHE 50
  NOORDER;

 

Location: KSRM Transport Kalurghat


Material Account: 






Landed cost Integration Manager
Shipments Interface Import

INT-TRB-0000001



INT-TRB-0000201

trd-->  grn 6





Intransit Shipment


JOHIR VAI 
===========
PO: 40012731 ORG IS WRONG --> ORG will be KBD



NAME           VALUSET
==========================

KSRM Office : XXKSRM_DEPT
Department:   XX_DEPT_NAME
Zone        : XX_OM_SD_ZONE



INT-TRB-0000101
INT-TRB-0000102
BP|SCRP|FLAP|000549
INT-TRB-0000103
INT-TRB-0000105







Please give me ERP Excess : KSA-KSPL-Barabkunda Warehouse Inv.org.
Also give ERP Excess to Mr. Abdul Momin, KG-7241, Assistant Manager-MCD- KMC Barabkunda.


Need UAT Access below users:
Jahed KG: 2944
Ratan CHakma: KG:832

found pending receiving transaction in inventory accounting period in CST.
 Pending pendiong receiving transactions will not prevent you closing the period 

PHOTOCOPY PAPER LEGAL HALF (WHITE)
HSS TOOL BIT-1/2 INCH X8 INCH
40010958


Global stock report is formated as per requirements.
Report is uploded in Uat server 

Responsibility: Inventory Administrator, Kabir Group
Report name: XXKSRM Item Stock IO Wise............. 



কোনো সিস্টেমই আক্রমণ থেকে শতভাগ প্রতিরোধী নয়,


102-KSRM Steel Plant Ltd (Power)
40000583

Inventory_Manager_KSK
Inventory_Manager_KSL
Inventory_Manager_KSPL
Inventory_Manager_KSRL
Inventory_Manager_KSRM
Inventory_Manager_KWSBL
Inventory_Manager_MSL
Inventory_Manager_Power
Inventory_Manager_KOL
Inventory_Manager_SRS
Inventory_Manager_Transport

Inventory_User_JMPL
Inventory_User_KASIL
Inventory_User_KBIL
Inventory_User_KOL
Inventory_User_KPPL
Inventory_User_KSB
Inventory_User_KSBL
Inventory_User_KSK
Inventory_User_KSL
Inventory_User_KSPL
Inventory_User_KSRM
Inventory_User_KWSBL
Inventory_User_MSL
Inventory_User_Power
Inventory_User_Transport






102.MCD.Store.Assistant Manager.Yes

101.Store.Store.Assistant Officer.No
102.MCD.Store.Junior Officer.No
103.MCD.Store.Officer.No

40012889

Purchasing Manager, 101-KSPL
Purchasing Manager, 104-KAJL
Purchasing Manager, 105-KOXL
Purchasing Manager, 201-KSTL

R12 Financials Training | 1st Session

Laxman ERPTREE Trainings
•
22K views
3 years ago



INV ORG: KLA
STONE CHIPS (VIETNAM)
01-AUG-2018
28-FEB-2022




 
 Dear Sir,
 Assalamualikum.
 
 As a ERP team member, we worked together for a long time with PM sir. At the time of working we shared resources one another.
 I kept backup of all our activity. So in "Purchasing" and "inventory" module, we have no dependency on one another.

Best Regards
Md Sohel Hossain 
Assist Manager 
ERP


GL_COA_MIRROR_LEDGER
XX_COMPANY
XX_UNIT
XX_COST_CENTER
XX_ACCOUNT
XX_SUB_ACCOUNT
XX_PROJECT_NEW
XX_INTERCOMPANY

40000009
KARNAPHULI SCIENTIFIC STORE
KSM: 80000012




Purchasing Manager, 101-KSPL
Purchase Requisition Manager, 101-KSPL

Find SHipped lines not interfaced to inventory from OM. Shipped Lines not ionterfaced to inventory will not prevent you from closinng the jan-22 . whoever tis can prevent you to close the in ventory period

MGT-03 pass: $iraJ@66


101 KSPL PO APPROVAL PATH
======================== import PO created in UAT: 40010818

KSPL CPD PO APPROVAL
KSPL IMPORT PO APPROVAL
KSPL_FPD_PO_APPROVAL


Rabiul Vai,

This are the worning and did not find any mejor issues, If stack anywhere we will work on that point.
So please proceed


JT relateed PO approval path
=============================== import PO created in UAT:40000067
JETTY SHIPPING PO APPROVAL
SADARGHAT JETTY PO APPROVAL

TRANSPORT PO APPROVAL PATH: 
=============================  import PO created in UAT :40014953 

TRANSPORT IMPORT PO APPROVAL
TRANS CPD PO APPROVAL
TRNASPORT FPD PO APPROVAL



103 KBIL PO APPROVAL PATH
======================== import PO created in UAT:40012293
KBIL CPD PO APPROVAL
KBIL IMPORT PO APPROVAL
KBIL_FPD_PO_APPROVAL


JMPL IMPORT PO APPROVAL
KASIL IMPORT PO APPROVAL
KBIL BIL_SRP IMPORT PO APP
KBIL IMPORT PO APPROVAL
KDJSP IMPORT PO APPROVAL
KOL IMPORT PO APPROVAL
KSBL IMPORT PO APPROVAL
KSL IMPORT PO APPROVAL
KSPL IMPORT PO APPROVAL
KSRM IMPORT PO APPROVAL
KWSBL IMPORT PO APPROVAL
MSL IMPORT PO APPROVAL
TRANSPORT IMPORT PO APPROVAL








move order with trip: 1959985
DRIVER_NAME

XXKSRM Monthly DIESEL Movement Report

SCB ACCOUNT INFORMATION
=======================
A/C 18131809601
NAME: MD SOHEL HOSSAIN
BRUNCH: AGRABAD


 





Factory Meeting with Rajib Das
Date: 10-FEB-2022

1. Rajib Das will provide cost center, Use of area
2. 12 Batch will be created against 6 Machine
3. How we will manage Extra Grid in system (Need Accounts related persons Decision)



PO: 40014952
GRN: 80008103

n md wpc door


KG-4538

Sohelju


 Describe Core Solutions on OCI
- Describe OCI Observability and Management services
- Describe different OCI Storage services
- Describe different OCI security services
- Describe the key features and components of OCI
- Discuss OCI Regions and Availability Domains
- Explain the OCI Pricing model
- Explain the OCI SLA and support model





FOR inventory responsibility: LE-106
===================================

Inventory_User_Power



IR 
==========
HMS Internal Req. Approval
Md. Iqbal Hossain,  KG-3763





Entertaiment Notice:
====================
Time: Sharp
Morning: 11:00 AM
Evening: 03:00 PM

TEST_PR
201.Information Communication & Technology.ERP.Assistant Manager.Yes



Brand ISSUE
=============

Report: EBS PO Bill Board Report




Mohin Md. Shamsul Arefin, KG-3223

201.Management.Management.Deputy Managing Director.No



UAT: POWER-102
PR: 10000292
Hierarchy: KSPL_PP_FPD_PO_APPROVAL
POWER ENERGY REQ APPROVAL
POWER PLANT REQ APPROVAL


KPPL_PR-IR_APPROVAL_MECH
=========================













--=========== 106 LE Purchasing Hirearchy ============

1.Approval Path Name : KPPL PR APPROVAL CIVIL
2. Approval Path Name : KPPL PR APPROVAL HR & ADMIN



FOR PR/IR APPROVAL HIREARCHY:
===========================

10004486


To find out position go to --> Global HRMS--> ENter and maintain--> give KG-ID in Full name column--> Find-->
--> go to assignment tab--> copy the the position from position column
--===========================================================================================================

For MECHANICAL


Path Name:  KPPL IR APPROVAL 
==============================

Approver: KG: MGT-04
NAME:Mohammed Salim Uddin
POSITION: 201.Management.Management.Deputy Managing Director.No

2nd  Checker KG: KG-502
NAME:Md. Golam Sorwar
POSITION:101.MCD.Store.Assistant General Manager.No




Preparer: KG: KG-3576
NAME:Bahar Uddin
POSITION: 101.MCD.Store.Junior Officer.No



PATH NAME: KPPL PR APPROVAL CIVIL
--================================
Approver: KG: MGT-04
NAME:Mohammed Salim Uddin
POSITION: 201.Management.Management.Deputy Managing Director.No


2nd Checker: 
KG: KG-502
NAME:Md. Golam Sorwar
POSITION:101.MCD.Store.Assistant General Manager.No


1st checker: KG-637
NAME: Md. Kamrul Islam
POSITION: 102.Civil.Civil & Project.Senior Assistant Manager.1ST
102.Civil.Civil & Project.Senior Assistant Manager.1ST

Preparer: KG-3576
NAME:Bahar Uddin
POSITION: 101.MCD.Store.Junior Officer.No

Preparer: KG-5697
NAME: Md. Rafiqul Islam
Postiion: 101.MCD.Store.Assistant.No


PATH NAME: KPPL PR APPROVAL HR & ADMIN
--===================================



Approver: KG: MGT-04
NAME:Mohammed Salim Uddin
POSITION: 201.Management.Management.Deputy Managing Director.No


2nd Checker: 
KG: KG-502
NAME:Md. Golam Sorwar
POSITION:101.MCD.Store.Assistant General Manager.No


1st checker: 
KG-3939
NAME: Md. Saddam Hossain Sohel  
POSITION: 102.HR & Admin.HR & Admin.Junior Officer.No

Preparer: KG-3576
NAME:Bahar Uddin
POSITION: 101.MCD.Store.Junior Officer.No

Preparer: KG-5697
NAME: Md. Rafiqul Islam
Postiion: 101.MCD.Store.Assistant.No







path name: KPPL_IR-PR_APPROV_MECHANICAL
======================================
Approver: KG: MGT-04
NAME:Mohammed Salim Uddin
POSITION: 201.Management.Management.Deputy Managing Director.No

2nd  Checker KG: KG-502
NAME:Md. Golam Sorwar
POSITION:101.MCD.Store.Assistant General Manager.No

1st Checker: KG:KG-5666
NAME:AHM Jahedul Alam Chowdhury
POSITION:106.Electrical.Project.Assistant General Manager.No

Preparer: KG: KG-3576
NAME:Bahar Uddin
POSITION: 101.MCD.Store.Junior Officer.No


--==================================================================

SUM PROGRAM WE RUN FOR 106-LE for Approval Hierarchy
======================================================
1. Replicate seed data  ---> System Administrator
2. Position Hierarchy Report ---> Purchasing 
3. Fill Employee Hierarchy


path name: KPPL_IR-PR_APPROV_ELECTRICAL
=======================================

KG: MGT-04
NAME:Mohammed Salim Uddin
POSITION: 201.Management.Management.Deputy Managing Director.No

KG: KG-502
NAME:Md. Golam Sorwar
POSITION:101.MCD.Store.Assistant General Manager.No

KG:KG-2805
NAME:Rajib Das
POSITION:102.Electrical.Energy.Senior Assistant Engineer.1ST

KG: KG-3576
NAME:Bahar Uddin
POSITION: 101.MCD.Store.Junior Officer.No


KPPL IT PR APPROVAL
=====================

KG-5807
name: Md. Jobair Ali Khan
Position:  101.Information Communication & Technology.IT.Senior Officer.No


KG-819
name: Md. Hasan Murad
Position:  201.Information Communication & Technology.IT.Senior Manager.No


KG-3287
name: Syed Nazrul Alam
Position:  201.HR & Admin.HR & Admin.General Manager.No


KG-5807
NAME: Md. Jobair Ali Khan
POSITION: 101.Information Communication & Technology.IT.Senior Officer.No





KPPL_PO_APPROVAL
================== --> 
 

KG-3835
NAME:Abdul Karim
POSITION: 201.Central Procurement.Central Procurement.Officer.No

KG-5802
S. M. Shawon
101.Central Procurement.Central Procurement.Officer.No

KG-3437
name : Md. Alamgir
Position: 201.Central Procurement.Central Procurement.Junior Officer.No


KG-7148
Sadman Tausif
201.Central Procurement.Central Procurement.Assistant Officer.No

KG-3837
Md. Kamal Uddin
102.Central Procurement.Central Procurement.Officer.No



Kg-3839 Md. Riduanul Alam
POSITION: 103.Central Procurement.Central Procurement.Officer.No



Kg-2825 Abu Mohammad Chowdhury
POSITION: 201.Central Procurement.Central Procurement.Officer.Yes















KSPL BRAND REQ APPROVAL 
KSPL BRND REQUISITION APPROVAL
--========================= 101
KG-6985
Name: S M Mahmudul Hasan Raju
POSITION: 101.Brand.Brand.Manager.No

KG-3368   PASS: blooded1131989
NAME: Md. Mizanul Islam
POSITION: 101.Brand.Brand.Junior Officer.No



KSPL Brand PO APPROVAL 
--============================ 101

KG-6985
Name: S M Mahmudul Hasan Raju
POSITION: 101.Brand.Brand.Manager.No

KG-3368
NAME: Md. Mizanul Islam
POSITION: 101.Brand.Brand.Junior Officer.No


Report name: XXKSRM Item Stock IO Wise Assign in: Purchasing Manager, 101-KSPL,Purchasing Manager, 103-KBIL 



101.Brand.Brand.Senior Officer.Yes





31-DEC-2021 23:59:00


FACTORY MEETING 9-JAN-2022
===========================
Issues:
1. Have to Provide Pending Item list with quantity and rate (Responsible--> MCD DEPT--> Bahar)
2. Use Of area have to provide ( Responsible--> Rajib Das/Rajib Chowdhury)
3. If have pertial GRN, then for that pertial items there will be  new PR->PO->GRN in oracle apps
4. At the time of diclering cut off date, all transaction will be Manually and keep track in Excel. After GO-LIVE these data will input orale EBS as Back log data 
 







KG_SPGEN ---> ITEM TEMPLATE NAME

PS|BRND|PEN|001949 ---> ITEM NAME: KSRM BALL PEN


PS|BRND|PEN|001950 BALL PEN YELLOW

PS|BRND|PEN|001951 BALL PEN GREEN


Inventory Type|Category|SUb Category|Sequence


http://127.0.0.1:8000/api/ReviewList/p1

30-APR-2021 23:59:00

ksrm transport brobkundo

Total bach= 4 
all batches are closed for the month of Apr-20



XXKSRM MOVE ORDER FOR GENERAL(Brand)

XXKSRM MOVE ORDER FOR SALES AND MARKETING(Brand)






INVENTORY REPORTS

All Inclusive GUI



Inventory_MO_Preparer_KBIL

<?xdofx: if RCV_QTY>0  then RCV_VAL div RCV_QTY else 0 end if?>

<?xdofx: if ISU_QTY<0  then ISU_VAL div ISU_QTY else 0 end if?>

<?xdofx: if CLS_QTY>0  then CLS_VAL div CLS_QTY else 0 end if?>





As per discussion, In Inventory Valuation report I checked from my side but found no issues, Need more discussions 

Actual Cost Process (OPM Actual Cost Program)

No Error Found in LOG File, No error found in report parameter........ 

--========================
ALL PARAMETER and Valuset
--=======================

Badam
Dim,
Dud,
malta,
Horliks,
amloki
samudrik MAS





Inv Organization code = XXKSRM_MO_ORG
Move Order Number = XXKSRM_MO_NUMBER
Item = XXKSRM_MO_ITEM_D
From Date = FND_STANDARD_DATE
To Date = FND_STANDARD_DATE
Operating Unit= XXOUNAME


P_TRANSACT_DT_FROM1
P_TRANSACT_DT_TO1


DEEP SEA GRN KORAR PORE ONEK SOMOE GRN TA R KHUJE PAOA JAE NA . SE KHETER DUITA REPORT CHALATE HOE:
--====================================================================================================
RESPONSIBILITY: INVENTORY ADMINISTRATOR
1. Landed cost Integration Manager
2. Shipments Interface Import

31-AUG-2018
31-DEC-2021

Robiul Vai ERP Item have to remove from Some reports:
IteM: 
CV|CVGN|CPAN|000083    
CV|CVGN|HDNR|000398  
SP|ELEC|SIRN|002643  
SP|MECH|OPUM|012587  


AND  WXMD.INVENTORY_ITEM_ID NOT IN(19851,19536,2479,17544)

Reports from where have to remove that items:
XXKSRM Item Transactions/ Bin Card --> Done 
XXKSRM Store Ledger Group Wise --> Done 
XXKSRM Item Stock All --> Done
XXKSRM Item Stock IO Wise --> Done
XXKSRM Item Stock SI Wise --> Done





BRAND ISSUE 
KOL ISSUE 
KOL PRocess MAKE Schedule -- Done

Process Name:XXKSRM Update Challan and RCV Process For KOL
 8:00 AM
 12:00AM
 2:00 PM
 10:00 PM 
 
 For schedule a report: Go to the responsibility where the Report in attached 
 






****PYTHON:https://www.youtube.com/watch?v=wtm4ipxOaPE&list=PLgH5QX0i9K3rz5XqMsTk41_j15_6682BN&index=10

I need an Excel File containing
1. Trial Balance (seeded)
2. Inventory Valuation  
3. Consumption Report
4. Production Cost Report
5. COGS Report
6. Factory Overhead Report 


your secuirte settings blocked a self-signed application from running

NEED REPORT NAME:
USE OF AREA NAME:
FROM AND TO DATE:

Inventory_MO_Preparer_KSPL
Inventory_MO_Preparer_KSL

--==========================================
BRAND:
--==========================================

 VALUSET: XXKSRM_MO_ORG
 VALUSET: XXKSRM_MO_NUMBER
 VALUSET NAME: XX_BRAND_CAT: SELECT DISTINCT ATTRIBUTE_CATEGORY FROM  MTL_TXN_REQUEST_HEADERS_V WHERE ATTRIBUTE_CATEGORY in ('General', 'Marketing and  Sales')
VALUSET: FND_STANDARD_DATE
VALUSET: FND_STANDARD_DATE
VALUSET: MO_STATUS: XXKSRM_MO_STATUES

Report Name: XXKSRM MOVE ORDER(Brand)
Executable: XXMOBRAND


============================= REPORT FOR O2C============================

REPORT NAME: EBS Zone Wise Delivery With Collection Report
VALUSET=
Country : XX_OM_SD_COUNTRY
Zone: XX_OM_SD_ZONE
Region:XX_OM_SD_REGION
Area:XX_OM_SD_AREA
Taritory:XX_OM_SD_TERRITORY
Sales Person Name:XX_SALES_PERSON_NAME



--================================XXKSRM MOVE ORDER FOR SALES AND MARKETING(Brand) =================

INV ORG: XXKSRM_MO_ORG
From Date: FND_STANDARD_DATE
To Date: FND_STANDARD_DATE
Country: XX_OM_SD_COUNTRY
Zone : XX_OM_SD_ZONE
Region: XX_OM_SD_REGION
Area:XX_OM_SD_AREA
Taritory:XX_OM_SD_TERRITORY
Sales Person Name: XX_SALES_PERSON_NAME




--=============================||=============================
-------> 2021/12/18 11:04:20
--=============================||=============================
1	ECOM Software Full Complete and Marketing for sale
2	Oracle All Module SETUP, RECONCILIATION,SUPPORT
3	ORACLE CLOUD DETAILS KNOWLEDGE, TRAINING
4	SELF IMPROVEMENT, COMPLETE SOME ONLINE COURSE AT LEAST 3
5	5 YEARS JOB PLAN AND THEN BUSINESS PLAN AND START BUSINESS
6	DATA SCIENCE, BIG DATA, IOT, BLOCK CHAIN, BIT COIN, ROBOTICS
7	LANGUAGE: PYTHON,
8	DATABASE: MONGO DB,
9	




Todaye Bus will leave at 6.5 pm, Informed by HR

40009656
40009604
EBS PO Transaction Status Report

XX_AP_SUPPLIERS 

p_vendor

FA|OTFA|OLVA|001172

Wrong Org Selection maildate: 18_DEC_2021


PR: 10003136
PO: 40013555, 40013222, 40013225, 40013223, 40013250, 40013104,

KSD GRN --143
PO: 40009003

1. KBIL Manufacturing Unit : Ei muhurte stock ase 2000

ITEM CODE: FA|OTFA|OLVA|000003
ITEM ID: 428



mail Date: 13-DEC-2021

40009474




From backend query we found that actual Transaction date of that perticular item is 31-JAN-2020. 


Supplier is not capable to provide the Item mail date: 12-DEC-2021

1:05 PM
Dear All,
From Saturday I will be on leave, During my interval  Reaz vai will take care the Technical issues and Arefin Vai will Take care the functional Issues. I am always with you over phone/Skype/what's app. 


Thanking All....
 SOHEL 







--===================================PROBLEM ================================
EBS GRN With Rate(General)
Executable: XXINVGRNWITHRATE_GEN


EBS GRN Summary With Rate(General)
Executable: XXINVGRNSUMMARY_GEN
            XXINVGRNSUMMARY_GEN



 
REPORT NAME:
1. EBS GRN With Rate(General)
2. EBS GRN Summary With Rate(General) 

Responsibility: Inventory Item GRN Rate General Viewer


--================================================================


RM|SCRP|HMSL|000518	PNS SCRAP
RM|SCRP|HMSL|000519	TIN CAN BUNDLE SCRAP
RM|SCRP|HMSL|000520	BUSHELING BUNDLE SCRAP
RM|SCRP|HMSL|000524	BUSHELING LOOSE SCRAP
RM|SCRP|HMSL|000525	HEAVY MELTING SCRAP (HMS 1 & 2/80:20)
RM|SCRP|HMSL|000526	HEAVY MELTING SCRAP (HMS 1 & 2/90:10)
RM|SCRP|HMSL|000527	HEAVY MELTING SCRAP (HMS 1)
RM|SCRP|HMSL|000001	HEAVY MELTING SCRAP
RM|SCRP|HMSL|000114	BUSHELING LOOSE & BUNDLE SCRAP
RM|SCRP|HMSL|000115	BONUS STEEL SCRAP
RM|SCRP|SHED|000003	SHREDDED SCRAP

767229,687152,785127,14,15,687153,770424, 784084,770425,770426



---  KOL ISSUE --------------------------

MENU : INV_NAVIGATE ,INV_TRANSACTIONS,  INV_RECEIVING
SUB MENU :  Miscellaneous Transaction


RESPONSIBILITY: Inventory_User_KOL
MENU: INV_STR_USER_MENU
SUB_MANU: INV_STR_USER_TRANSACTION_MENU

PROMPT: Miscellaneous Transaction
Submenu: INV_TRANSACTIONS
Function: Miscellaneous Transaction
Description: Miscellaneous Transaction



 -- After Meeting wit KOL we got these points
 -- ===========================================================================================================
 
 1. ERP Dept Will Provide All Wrong Transaction Data To KOL Respective Persons. 
    They Will Match the data with Their Manual Documents and Send Feedback to ERP.Then ERP will take necessary stapes 
 2. KOL Respective person will count Actual Quantity with the help of Internal Audit and Match Stock with ERP system.
    Also take initiative for adjustment if required to match with system and Actual. 
 3. Customer wise Actual Balance have to provide to ERP within 25-DEC-2021
 4. Every shift User will complete entry and run the process "XXKSRM Update Challan and RCV Process For KOL". 
 5. After run the process user will run the report "XXKSRM Customer Wise Empty Cylinder Recieve Details". 
    In this report They will match with their actual qty and report qty.
  --===========================================================================================================

1. We Got some Data From SEP-2018 To 31-DEC-2020 Which need to Adjust and need your Approval. 
2. Suppose Have you keep Pending Qty Before 2 or 3 month? 
3. We need the information of Customer wise Pending DATA
4. 



Procedure For Update Challan In KOL: XXKSRM Update Challan and RCV Process For KOL
New Report: 









MD . BELAL-(TP-2806) 

7264, 7299



EBS GRN Summary With Rate
EBS GRN With Rate






 RATAN DAR PR: 10004509,10004508,10004507
 10004619, 10004612,10004611, 10004609

 
  REPORT NAME: EBS Purchase Order (Lighter Ship) 
 
  EXECUTABLE: XXPOPUORDHKSHIP
 
 
 
 
 
 ADMIN: https://docs.google.com/forms/d/1F_ZHz4LG0ZnHNxsvJeQoATzvjSwsmNKeAHQE3xUTp5I/edit
 USER: GOOGLE FORM LINK: https://forms.gle/nkZ4DFFAzKHUMPib8
 
 USER: GOOGLE QUIZ LINK: https://forms.gle/a4t5onJ5YmEFDmPw8
 ADMIN: https://docs.google.com/forms/d/1xxLCJTPAXphFbpb9QsvX6SRS42jhD2p_IghHHJ12ISA/edit#settings


1067

01730829090--

PROGRAM: XXKSRM Update Challan and RCV Process For KOL

EXECUTABLE: XX_CHALLAN_MO_TEMP_PROCESS

KOL CHALLAN : Pertial Receive: 4211020047270 ,4211020039849

KOL CHALLAN (SAME CHALLAN NO FULLY RECEIVES TWO TIMES ) CHALLAN:4181010004515, 4181010008472, 4181010011294, 4201010037370

KOL CHALLAN (RCV QTY is Greater Than Challan Qty): 4181010009058,4181010009352, 4181010009764



EBS Customer Bill

XXKSRM Customer Wise Cylinder Balance
XXKSRM Cylinder Stock All

CHALLAN_COPY_ID VALUSET: XX_CHALLAN_COPY
CHALLAN VALUSET: XX_CHALLAN_KOL_KASIL
ITEM VALUSET: 
XXKSRM_ITEM_KOL:  TABLE NAME: WBI_XXKBGITEM_MT_D 
ORGANIZATION_ID=173
and finance_category='FINISHED GOODS|FINISHED GOODS'
and ITEM_GROUP='FILLED CYLINDER'


CUSTOMER VALUSET: P_Comm_Customers_N, XX_ONT_BILL_CUST




The warning shows because "Cost update process" 
didn't get available cost for updating Recourse cost, 
and Fixed Overhead cost components. There is no dependency 
for running next process. So you can proceed

11/1/2021 10:40:04 AM

FG|CYLN|O2|000047


PO: 40009052
GRN : 80007979
GRN: 80007980



The worning shows because "Cost update process" didn't get available cost for updating  Recource cost, and Fixed Overhead cost components.

 


LANCING PIPE 10 MM
KBIL: PR: 10004114




AP_GRN_PO_LC_IN_GRN _Month

IN TEST: 

--  Syed Nazrul Alam, KG-3287   TEST: ksrmerp1   PROD:  ksrmsna
--  Md. Hasan Murad, KG-819  	TEST: welcome1
--  Md. Wahid Ullah,  KG-3780   TEST: erp1991

--CASE: for checking PR notification Date in UAT
101 --> PR: 10004358  sumbmit time: 25-OCT-2021 17:18:26
101 --> PR: 10004359  not submit , time: 25-OCT-2021 17:19:20




EBS LC Register(GRN Date Wise)

XXLCRGISTERWITHGRNDATE

Request Group: XX Payables Manager  ,  All Reports






https://docs.oracle.com/cd/A60725_05/pdf/gemmscm.pdf

RESPON: Inventory Audit, Kabir Group

XXKSRM Customer Wise Cylinder Balance

XXKSRM Customer Wise Cylinder Stock Summary


TO Marge a Supplier :
1. First see the site is assigned in to supplier which is assigned in from supplier, if not then first assign and give proper account in that supplier site
2. 




Sir, 
Sokal bela dekesilen, kono issue te kotha bolte cailsen mone hoe. Apni free hole knock dien sir.


pr: 10000218 po:40000409 power

INVENTORY VALUATION HOE 5 ITEMS ER UPOR: RAW MATERIAL, BY PTODUCR, FUEL AND LUBRICATE, 

Khaolil vai was working on INV Valuation Report.Need latest query from him if he updated anything then have to add this Transaction type 


After RND I could understand, the problem of double trancaction is for draft peocess. It should handle first before hiding data from report.
 Need to find out whether any changing of data may impact on processing data. 
 
 Note: against duplicate transaction ID: 1631266, 1631270, 1631220 I found in Production server , there is no duplicate data there.
 
 we change or modify
 should not posible to controll in Report.
Have to find out root cause of generating duplicate data. Other wise   

KG-6578
 

01732247354
--==============
40009052

622317


MD. HANNAN MIA-(CA-8210)

CLOSED CODE OPEN: THAT MEANS THE ITEM OF THE PO IS RECEIVED PERTIALLY 


KSA: GRN: 80002539 PO: 40001087
						40001067 testetd and finally closed 
						40000068


17001	73007

23001  	25001
		25004
		25002


SP|GENE|CSPN|006328 --> COMBINATION SPANNER (RING & OPEN) 52X52 MM
COMBINATION SPANNER (RING & OPEN) 52X52 MM


103 KBIL ---> PR PENDING SUMMARY Backend theke Abu choudhuri

nid marjana: 376 1206394

Responsibility: Inventory Administrator, Kabir Group
Report name: EBS Challan Wise Blanket PO GRN Details(Audit)
REPORT NAME: XXKSRM GRN Local



Purchasing User, 101-KSPL

Purchase Requisition User, 101-KSPL

KG-5188  pass: 262425


-- BAHAR SUB : 20-SEP-2021

FEB-2019 to DEC-2019 Move order date is updated but , mamun bos bolsen aste aste koren , jehetu feb-2019 closing cholse tai ami mail ta dely korlam.but kaj ta done  



ar traders --> 101 a asign




PORG_ADDRESS

-- 4201010070272 ei challan a duti line ase tai rate ta ashsena


--FUNCTION FOR ISO RATE IN GRN Witjh Rate Report 

SELECT D.NAME CHALLAN_NO,OL.UNIT_LIST_PRICE RATE
FROM  
OE_ORDER_HEADERS_ALL OH
LEFT JOIN
OE_ORDER_LINES_ALL OL
ON OH.HEADER_ID = OL.HEADER_ID 
LEFT JOIN WSH_DELIVERY_DETAILS WDD
ON OL.HEADER_ID = WDD.SOURCE_HEADER_ID
AND OL.LINE_ID = WDD.SOURCE_LINE_ID
LEFT JOIN WSH_DELIVERY_ASSIGNMENTS WDA
ON WDD.DELIVERY_DETAIL_ID = WDA.DELIVERY_DETAIL_ID
LEFT JOIN WSH_NEW_DELIVERIES D
ON WDA.DELIVERY_ID=D.DELIVERY_ID
LEFT JOIN MTL_MATERIAL_TRANSACTIONS E
ON  WDD.MOVE_ORDER_LINE_ID = E.MOVE_ORDER_LINE_ID
AND E.SUBINVENTORY_CODE = 'STAGIN'
AND E.ATTRIBUTE_CATEGORY = 'DISTRIBUTION'
LEFT JOIN XX_ONT_TRIP_MT F  
ON D.ATTRIBUTE4 = F.TRIPSYS_NO
LEFT JOIN WBI_INV_ORG_D B
ON WDD.ORGANIZATION_ID = B.ORGANIZATION_ID
AND OH.SOLD_FROM_ORG_ID = B.OPERATING_UNIT
LEFT JOIN MTL_TRANSACTION_LOT_NUMBERS LOT
ON WDD.LOT_NUMBER = LOT.LOT_NUMBER
AND WDD.TRANSACTION_ID = LOT.TRANSACTION_ID
AND UPPER(LOT.ATTRIBUTE_CATEGORY) = 'DISTRIBUTION KSPL'
LEFT JOIN
XX_ONT_ORDER_HEADER_DFF_V DFF
ON OH.HEADER_ID = DFF.HEADER_ID
LEFT JOIN
XX_ONT_CASH_CUST_V CASH
ON OH.SOLD_TO_ORG_ID = CASH.CUSTOMER_ID
AND OH.ORG_ID = CASH.ORG_ID
WHERE 
WDD.RELEASED_STATUS = 'C'
AND D.NAME=:P_CHALLAN_NO
ORDER BY ROWNUM





--GRN WITH RATE REPORT A RATE DEKHAE NA

SP|STEL|MPLT|029668






6-JUL-2021

PO:40009700 --> KBIL----> Procure to Pay  Details  Report aei itemta 1 bar show korar kotha , but 4 bar show kortese																				

80005562


===========
ratan
=====
KSM_MO NO	MO Create date	Need to update date
MO-KSM-0102657	04-Jul-21	30-Jun-21

KSM_GRN NO	GRN Create date	Need to update date
GRN-80007541	04-Jul-21	30-Jun-21
GRN-80007542	04-Jul-21	30-Jun-21


Fahim vaier sathe kotha holo.. bollo "Ami data check kore dekhesi ok ase, tarporo keno ashsena seta aro deeply check kore dekhte hobe". Time lagbe
 



As per discussion , 30 GRN MMT_Trans_date is updated According to GRN RCV_TRANS_DATE in KBIL in production


--============================= March and April 2021 revers proces steps for resolving peak and off peak issue====

1. Update the date as 22-april-2021
2. Reverse march and april 2021
3. Run 30 process 
4. Update the date as 31-march-2021
5. run draft accounting 

MAMUN BOS:
Transaction dateof GRN 80000654  is SEP-18 , According to Commercial Provided "Challan/Invoice-number" This date was updated as Oct-18


-- 15-JUN-2021

102 prod sep-18 consumption report

======= miscelinious received by Robiul bhai in march21 but wip issue was 25-feb-2021=============
SELECT * 
FROM 
MTL_MATERIAL_TRANSACTIONS
WHERE  TRANSACTION_ID IN (9685961,9685914)

--UPDATE MTL_MATERIAL_TRANSACTIONS
SET TRANSACTION_DATE = TO_DATE('2/25/2021 06:18:34 PM', 'MM/DD/YYYY HH12:MI:SS PM')
WHERE TRANSACTION_ID IN (9685961,9685914)


========================================================

-- AREFIN VAI TOLD TO UPDATE THIS BELLOW DATA:
-- I changed it IN RCV_TRANSACTION, MTL_MATERIAL_TRANSACTIONS TABLE TRANSACTIODATE
select * from RCV_TRANSACTIONS where TRANSACTION_ID IN (
980004,
980764,
986245,
986366)

--UPDATE RCV_TRANSACTIONS
SET TRANSACTION_DATE = TO_DATE('4/25/2021 06:18:34 PM', 'MM/DD/YYYY HH12:MI:SS PM')
where TRANSACTION_ID IN (
980004,
980764,
986245,
986366)


select * from RCV_SHIPMENT_HEADERS WHERE SHIPMENT_HEADER_ID IN (
1045800,
1046098,
1046098,
1047158)


select* from  MTL_MATERIAL_TRANSACTIONS
WHERE TRANSACTION_ID IN (
10520136,
10520128,
10520127,
10312267
)

 --UPDATE MTL_MATERIAL_TRANSACTIONS
 SET TRANSACTION_DATE = TO_DATE('4/25/2021 06:18:34 PM', 'MM/DD/YYYY HH12:MI:SS PM')   -- 5/8/2021 2:20:05 PM
WHERE TRANSACTION_ID IN (
10520136,
10520128,
10520127,
10312267
)

--======================================================================================



SELECT XX
KG_COM_PKG.GET_USER_NAME (:P_USER_ID) FROM DUAL;  --2253

SELECT XXKG_COM_PKG.GET_PREPARER_NAME (:P_USER_ID) FROM DUAL;    --981      
          
SELECT XXKG_COM_PKG.GET_DEPT_NAME (:P_PERSON_ID) FROM DUAL;   

SELECT *  FROM FND_USER WHERE USER_NAME LIKE'%KG-4079%'

SELECT TO_CHAR(TO_DATE(SYSDATE)) FROM DUAL;

SELECT TO_CHAR(SYSDATE,'dd-mm') FROM DUAL;       -- TO GET ONLY DATE AND MONTH

SELECT TO_CHAR(ADD_MONTHS(SYSDATE, -1)) AS PREV_MONTH , TO_CHAR(SYSDATE), TO_CHAR(ADD_MONTHS (SYSDATE, 1)) AS NEXT_MONTH
FROM DUAL

SELECT * FROM FND_LOOKUP_VALUES
WHERE LOOKUP_TYPE = 'KSRM_DESIG' ;


--=============DATE FORMATS ALL ==============

TO_CHAR(TRUNC(I.CHECK_DATE)) "PAYMENT DATE"  ,



--======================  Error khuje dekhar jonno =======================
SELECT INTERFACE_TRANSACTION_ID, PROCESSING_STATUS_CODE, PROCESSING_MODE_CODE, TRANSACTION_STATUS_CODE, TRANSACTION_TYPE,
      TRANSACTION_DATE
      FROM RCV_TRANSACTIONS_INTERFACE
      WHERE (PROCESSING_STATUS_CODE = 'ERROR' OR TRANSACTION_STATUS_CODE = 'ERROR') AND TRANSACTION_DATE >= SYSDATE - 7;
   
--=========================================



--================================================
--USE OF CONCATTENET
--================================================

 SELECT ORGANIZATION_ID, INVENTORY_ITEM_ID, DESCRIPTION,
            (SEGMENT1 || '.' || SEGMENT2 || '.' || SEGMENT3  ) ITEM_CODE
           FROM MTL_SYSTEM_ITEMS_B
           
           
 --============================================
 --REQUISITION AGING REPORT
 --============================================
 
 SELECT 
 TO_DATE(SYSDATE),
XXKG_COM_PKG.GET_PREPARER_NAME (PRH.PREPARER_ID) CREATED_BY,
XXKG_COM_PKG.GET_DEPT_NAME (PRH.PREPARER_ID) DEPARTMENT,
PRH.REQUISITION_HEADER_ID, PRH.PREPARER_ID,PRH.CREATED_BY,SEGMENT1 REQUISITION_NO,PRH.APPROVED_DATE,
PRL.ITEM_DESCRIPTION,PRL.QUANTITY,PRL.UNIT_MEAS_LOOKUP_CODE,NEED_BY_DATE,PRL.NOTE_TO_AGENT,PRL.ATTRIBUTE1 BRAND, 
PRL.ATTRIBUTE2 ORIGIN,PRL.ATTRIBUTE3 USE_OF_AREA, (TO_DATE(SYSDATE) - TO_DATE(PRH.APPROVED_DATE)) LEAD_TIME
FROM PO_REQUISITION_HEADERS_ALL PRH, PO_REQUISITION_LINES_ALL PRL
WHERE PRH.REQUISITION_HEADER_ID=PRL.REQUISITION_HEADER_ID
AND AUTHORIZATION_STATUS = 'APPROVED'
--and (to_date(prh.APPROVED_DATE) - to_date(prl.NEED_BY_DATE)) > 1
--and segment1 = '11610100166'   --'11610100586' 



--=======================================================================
-- PR APPROVED BUT NOT PO
 -----list all Purchase Requisition without a Purchase Order that means  a PR has not been autocreated to PO. 
 --================================================

SELECT  DISTINCT(PRH.SEGMENT1) "PR NUM", PRL.QUANTITY, PRL.QUANTITY_DELIVERED,
  SUBSTR(XX_GET_HR_OPERATING_UNIT(PRH.ORG_ID),5) OU, 
  (SELECT NAME FROM HR_ALL_ORGANIZATION_UNITS WHERE ORGANIZATION_ID=PRL.DESTINATION_ORGANIZATION_ID) DEST_ORG_NAME ,
 MY_PACKAGE.GET_DEPARTMENT_FRM_USERKG(PRL.TO_PERSON_ID) USER_DEPT,
 MY_PACKAGE.GET_DEPT_FROM_EMP_ID(PRL.TO_PERSON_ID) USER_NAME,
PRL.ITEM_DESCRIPTION "Description",
PRL.QUANTITY "Qty",
PRL.ATTRIBUTE2 ORIGIN,PRL.
ATTRIBUTE3 USE_OF_AREA, 
 TO_CHAR(PRH.APPROVED_DATE) "Approved Date",
(TO_DATE(SYSDATE, 'dd-mm-yy') - TO_DATE(PRH.APPROVED_DATE, 'dd-mm-yy')) LEAD_TIME,
PPF1.FULL_NAME "PREPARER"
FROM
PO.PO_REQUISITION_HEADERS_ALL PRH,
PO.PO_REQUISITION_LINES_ALL PRL,
APPS.PER_PEOPLE_F PPF1,
(SELECT DISTINCT AGENT_ID,AGENT_NAME FROM APPS.PO_AGENTS_V ) PPF2,
PO.PO_REQ_DISTRIBUTIONS_ALL PRD,
INV.MTL_SYSTEM_ITEMS_B MSI,
PO.PO_LINE_LOCATIONS_ALL PLL,
PO.PO_LINES_ALL PL,
PO.PO_HEADERS_ALL PH
WHERE
PRH.REQUISITION_HEADER_ID = PRL.REQUISITION_HEADER_ID
AND PRL.REQUISITION_LINE_ID = PRD.REQUISITION_LINE_ID
AND PPF1.PERSON_ID = PRH.PREPARER_ID
AND PRH.CREATION_DATE BETWEEN PPF1.EFFECTIVE_START_DATE AND PPF1.EFFECTIVE_END_DATE AND PPF2.AGENT_ID(+) = MSI.BUYER_ID
AND MSI.INVENTORY_ITEM_ID = PRL.ITEM_ID
AND MSI.ORGANIZATION_ID = PRL.DESTINATION_ORGANIZATION_ID
AND PLL.LINE_LOCATION_ID(+) = PRL.LINE_LOCATION_ID
AND PLL.PO_HEADER_ID = PH.PO_HEADER_ID(+)
AND PLL.PO_LINE_ID = PL.PO_LINE_ID(+)
AND PRH.AUTHORIZATION_STATUS = 'APPROVED'
AND PLL.LINE_LOCATION_ID IS NULL
AND PRL.CLOSED_CODE IS NULL
AND NVL(PRL.CANCEL_FLAG,'N') <> 'Y'
AND PRH.TYPE_LOOKUP_CODE <> 'INTERNAL'         
AND PRH.APPROVED_DATE  BETWEEN '01-JUL-19' AND  '31-DEC-19'
AND PRH.ORG_ID =  :P_OU  --81
AND   MY_PACKAGE.GET_DEPARTMENT_FRM_USERKG(PRL.TO_PERSON_ID) = 'Store'
--and prh.segment1 = '10000242'
ORDER BY 1,2


--==============================================
--List and PO With there approval , invoice and payment details 
--==============================================
 
SELECT   
A.ORG_ID "ORG ID",   
E.SEGMENT1 "VENDOR NUM",  
E.VENDOR_NAME "SUPPLIER NAME",  
UPPER(E.VENDOR_TYPE_LOOKUP_CODE) "VENDOR TYPE",   
F.VENDOR_SITE_CODE "VENDOR SITE CODE",  
F.ADDRESS_LINE1 "ADDRESS",  
F.CITY "CITY",  
F.COUNTRY "COUNTRY",   
TO_CHAR(TRUNC(D.CREATION_DATE)) "PO Date",   
D.SEGMENT1 "PO NUM",  
D.TYPE_LOOKUP_CODE "PO Type",   
C.QUANTITY_ORDERED "QTY ORDERED",   
C.QUANTITY_CANCELLED "QTY CANCELLED",   
G.ITEM_ID "ITEM ID" ,   
G.ITEM_DESCRIPTION "ITEM DESCRIPTION",  
G.UNIT_PRICE "UNIT PRICE",   
(NVL(C.QUANTITY_ORDERED,0)-NVL(C.QUANTITY_CANCELLED,0))*NVL(G.UNIT_PRICE,0) "PO Line Amount",   
(SELECT   
DECODE(PH.APPROVED_FLAG, 'Y', 'Approved')   
FROM PO.PO_HEADERS_ALL PH   
WHERE PH.PO_HEADER_ID = D.PO_HEADER_ID)"PO Approved?",   
A.INVOICE_TYPE_LOOKUP_CODE "INVOICE TYPE",  
A.INVOICE_AMOUNT "INVOICE AMOUNT",   
TO_CHAR(TRUNC(A.INVOICE_DATE)) "INVOICE DATE",   
A.INVOICE_NUM "INVOICE NUMBER",   
(SELECT   
DECODE(X.MATCH_STATUS_FLAG, 'A', 'Approved')   
FROM AP.AP_INVOICE_DISTRIBUTIONS_ALL X   
WHERE X.INVOICE_DISTRIBUTION_ID = B.INVOICE_DISTRIBUTION_ID)"Invoice Approved?",   
A.AMOUNT_PAID,  
H.AMOUNT,   
H.CHECK_ID,   
H.INVOICE_PAYMENT_ID "Payment Id",   
I.CHECK_NUMBER "Cheque Number",   
TO_CHAR(TRUNC(I.CHECK_DATE)) "PAYMENT DATE"  ,
I.CHECK_DATE  
FROM AP_INVOICES_ALL A,   
AP_INVOICE_DISTRIBUTIONS_ALL B,   
PO_DISTRIBUTIONS_ALL C,   
PO_HEADERS_ALL D,   
PO_VENDORS E,   
PO_VENDOR_SITES_ALL F,   
PO_LINES_ALL G,   
AP_INVOICE_PAYMENTS_ALL H,   
AP_CHECKS_ALL I   
WHERE A.INVOICE_ID = B.INVOICE_ID   
AND B.PO_DISTRIBUTION_ID = C. PO_DISTRIBUTION_ID (+)   
AND C.PO_HEADER_ID = D.PO_HEADER_ID (+)   
AND E.VENDOR_ID (+) = D.VENDOR_ID   
AND F.VENDOR_SITE_ID (+) = D.VENDOR_SITE_ID   
AND D.PO_HEADER_ID = G.PO_HEADER_ID   
AND C.PO_LINE_ID = G.PO_LINE_ID   
AND A.INVOICE_ID = H.INVOICE_ID   
AND H.CHECK_ID = I.CHECK_ID   
AND F.VENDOR_SITE_ID = I.VENDOR_SITE_ID   
AND C.PO_HEADER_ID IS NOT NULL   
AND A.PAYMENT_STATUS_FLAG = 'Y'   
AND D.TYPE_LOOKUP_CODE != 'BLANKET';  



--===================================================
-- FIND POSITION HIREARCHY IN PURCHASING MODULE

--==================================================
SELECT 
PPS.NAME, HA.NAME PARENT_POS, 
(SELECT NAME 
FROM HR_ALL_POSITIONS_F 
WHERE POSITION_ID=PPSE.SUBORDINATE_POSITION_ID) SUBORDINATE 
FROM 
PER_POS_STRUCTURE_ELEMENTS PPSE, PER_POSITION_STRUCTURES PPS, 
HR_ALL_POSITIONS_F HA 
WHERE 
PPSE.POS_STRUCTURE_VERSION_ID=PPS.POSITION_STRUCTURE_ID 
--and pps.primary_position_flag='Y' 
AND HA.POSITION_ID=PPSE.PARENT_POSITION_ID 
and pps.name='KBIL IT Requisition Approval o'
ORDER BY PPS.NAME,HA.NAME 


--==============================================================

--CONCURRENT PROGRAM STATUS
--There are several instances where we need to get the list of scheduled concurrent request. 
--Below is another handy query that displays all the concurrent request that 
--are in running, pending or scheduled status.
--==============================================================

SELECT   FCR.REQUEST_ID,
         DECODE (FCR.PHASE_CODE,
                 'P', DECODE (FCR.HOLD_FLAG, 'Y', 'Inactive', FL_PEND.MEANING),
                 FL_PEND.MEANING
                ) PHASE,
         DECODE (FCR.PHASE_CODE,
                 'P', DECODE (FCR.HOLD_FLAG,
                              'Y', 'On Hold',
                              DECODE (SIGN (FCR.REQUESTED_START_DATE - SYSDATE),
                                      1, 'Scheduled',
                                      FL_STAT.MEANING
                                     )
                             ),
                 FL_STAT.MEANING
                ) STATUS,
         FCPT.USER_CONCURRENT_PROGRAM_NAME, FCR.INCREMENT_DATES,
         FCR.RESUBMIT_INTERVAL, FCR.RESUBMIT_INTERVAL_UNIT_CODE,
         FCR.RESUBMIT_INTERVAL_TYPE_CODE, PARENT_REQUEST_ID,
         FCR.REQUESTED_START_DATE, FU.USER_NAME REQUESTED_BY
    FROM FND_CONCURRENT_REQUESTS FCR,
         FND_CONCURRENT_PROGRAMS_TL FCPT,
         FND_LOOKUPS FL_PEND,
         FND_LOOKUPS FL_STAT,
         FND_USER FU
   WHERE 1 = 1
     AND FCPT.CONCURRENT_PROGRAM_ID = FCR.CONCURRENT_PROGRAM_ID
     AND FCPT.LANGUAGE = USERENV ('LANG')
     AND FCR.PHASE_CODE = FL_PEND.LOOKUP_CODE
     AND FL_PEND.LOOKUP_TYPE = 'CP_PHASE_CODE'
     AND FCR.STATUS_CODE = FL_STAT.LOOKUP_CODE
     AND FL_STAT.LOOKUP_TYPE = 'CP_STATUS_CODE'
     AND FL_PEND.MEANING != 'Completed' 
     AND FU.USER_ID = FCR.REQUESTED_BY
ORDER BY FCR.REQUEST_ID DESC 


--=============================================================
-- HR INFORMATION

--======================GET EMPLOYEE INFORMATION======================================
 
 SELECT DISTINCT(PAAF.PERSON_ID),PAAF.LAST_NAME,PAAF.FIRST_NAME, PASF.PERSON_ID , PPDS.SEGMENT1,PPDS.SEGMENT2,PPDS.SEGMENT3 DEPARTMENT,PPDS.SEGMENT4, PPDS.SEGMENT5, PPS.NAME FULL_DESIGNATION
 FROM PER_ALL_ASSIGNMENTS_F PASF,
  PER_ALL_PEOPLE_F PAAF,
  PER_POSITIONS PPS,
  PER_POSITION_DEFINITIONS PPDS
 WHERE PPS.POSITION_ID= PASF.POSITION_ID
 AND PAAF.PERSON_ID = PASF.PERSON_ID
 AND PPS.POSITION_DEFINITION_ID = PPDS.POSITION_DEFINITION_ID
AND PAAF.FIRST_NAME = 'KG-2018'  --981 


--========== GET DESIGNATION==================

 SELECT DISTINCT(PPS.NAME) FULL_DESIGNATION
 FROM PER_ALL_ASSIGNMENTS_F PASF,
  PER_ALL_PEOPLE_F PAAF,
  PER_POSITIONS PPS,
  PER_POSITION_DEFINITIONS PPDS
 WHERE PPS.POSITION_ID= PASF.POSITION_ID
 AND PAAF.PERSON_ID = PASF.PERSON_ID
 AND PPS.POSITION_DEFINITION_ID = PPDS.POSITION_DEFINITION_ID
 AND PAAF.FIRST_NAME = 'KG-1391'
 
--and paaf.PERSON_ID = 841  --981
--=============================
--FIND DEPARTMENT
--=============================

SELECT DISTINCT(PPDS.SEGMENT3) DEPARTMENT
 FROM PER_ALL_ASSIGNMENTS_F PASF,
  PER_ALL_PEOPLE_F PAAF,
  PER_POSITIONS PPS,
  PER_POSITION_DEFINITIONS PPDS
 WHERE PPS.POSITION_ID= PASF.POSITION_ID
 AND PAAF.PERSON_ID = PASF.PERSON_ID
 AND PPS.POSITION_DEFINITION_ID = PPDS.POSITION_DEFINITION_ID
  AND PAAF.FIRST_NAME = 'KG-4079'
 --AND  PAAF.PERSON_ID = :P_PERSON_ID
 
 --AND PAAF_PERSON_ID = 
--and paaf.PERSON_ID = 841  --98

 
 
 SELECT *  FROM PER_ALL_ASSIGNMENTS_F
 
 SELECT * FROM PER_POSITIONS
 
 SELECT * FROM PER_POSITION_DEFINITIONS
 
 SELECT * FROM PER_PEOPLE_F
 
 --==========================================
-- APPROVED PR, PO, GRN IF CREATED
-- 
--========================================

SELECT PRH.ORG_ID,PRH.SEGMENT1 "Req #", PRH.CREATION_DATE,
 PRH.CREATED_BY,
  POH.SEGMENT1 "PO #",
  PPX.FULL_NAME "Requestor Name",
   PRH.DESCRIPTION "Req Description",
   PRH.AUTHORIZATION_STATUS, PRH.NOTE_TO_AUTHORIZER,
    PRH.TYPE_LOOKUP_CODE, PRL.LINE_NUM, PRL.LINE_TYPE_ID, 
    PRL.ITEM_DESCRIPTION, PRL.UNIT_MEAS_LOOKUP_CODE,
     PRL.UNIT_PRICE, PRL.QUANTITY, PRL.QUANTITY_DELIVERED,
      PRL.NEED_BY_DATE, PRL.NOTE_TO_AGENT, PRL.CURRENCY_CODE,
      PRL.RATE_TYPE, PRL.RATE_DATE, PRL.QUANTITY_CANCELLED, 
      PRL.CANCEL_DATE, PRL.CANCEL_REASON
      FROM PO_REQUISITION_HEADERS_ALL PRH,
       PO_REQUISITION_LINES_ALL PRL,
       PO_REQ_DISTRIBUTIONS_ALL PRD,
       PER_PEOPLE_X PPX,
       PO_HEADERS_ALL POH,
       PO_DISTRIBUTIONS_ALL PDA 
      WHERE PRH.REQUISITION_HEADER_ID = PRL.REQUISITION_HEADER_ID
       AND PPX.PERSON_ID = PRH.PREPARER_ID
        AND PRH.TYPE_LOOKUP_CODE = 'PURCHASE'
      AND PRD.REQUISITION_LINE_ID = PRL.REQUISITION_LINE_ID
         AND PDA.REQ_DISTRIBUTION_ID = PRD.DISTRIBUTION_ID
       AND PDA.PO_HEADER_ID = POH.PO_HEADER_ID
  --    AND TO_CHAR (prh.creation_date, 'YYYY') IN ('2010', '2011')
  
  
  

--============================================ 
-- GLOBAL CS CREATION FROM KSRM HEAD OFFICE
--================================

SELECT GET_HR_OPERATING_UNIT(PRH.ORG_ID) ORG_NAME,PRL.ITEM_DESCRIPTION,  COUNT(PRL.QUANTITY) QTY  --, prh.segment1
FROM
PO.PO_REQUISITION_HEADERS_ALL PRH,
PO.PO_REQUISITION_LINES_ALL PRL,
PO.PO_REQ_DISTRIBUTIONS_ALL PRD,
PO.PO_LINE_LOCATIONS_ALL PLL,
PO.PO_LINES_ALL PL,
PO.PO_HEADERS_ALL PH
WHERE
PRH.REQUISITION_HEADER_ID = PRL.REQUISITION_HEADER_ID
AND PRL.REQUISITION_LINE_ID = PRD.REQUISITION_LINE_ID
AND PLL.LINE_LOCATION_ID(+) = PRL.LINE_LOCATION_ID
AND PLL.PO_HEADER_ID = PH.PO_HEADER_ID(+)
AND PLL.PO_LINE_ID = PL.PO_LINE_ID(+)
AND PRH.AUTHORIZATION_STATUS = 'APPROVED'
AND PLL.LINE_LOCATION_ID IS NULL
AND PRL.CLOSED_CODE IS NULL
AND NVL(PRL.CANCEL_FLAG,'N') <> 'Y'
--and prh.APPROVED_DATE between '01-JAN-2017' and '31-MAR-2017'
--and prh.APPROVED_DATE=nvl(:P_From_Approve_Date, prh.APPROVED_DATE)
--and prh.APPROVED_DATE=nvl(:P_TO_Approve_Date, prh.APPROVED_DATE)
AND (:P_FROM_DATE IS NULL OR PRH.APPROVED_DATE BETWEEN :P_FROM_DATE AND :P_TO_DATE)
--and prl.ITEM_DESCRIPTION = 'SOAP'
AND PRL.ITEM_DESCRIPTION = NVL(:P_ITEM,PRL.ITEM_DESCRIPTION)
AND PRH.ORG_ID= NVL(:P_ORG_ID,PRH.ORG_ID)
GROUP BY  PRL.ITEM_DESCRIPTION,PRH.ORG_ID  --,prh.segment1
ORDER BY PRL.ITEM_DESCRIPTION

--==========================================
-- Know PACKAGE NAME FROM DATABASE
--============================================

SELECT * FROM ALL_OBJECTS WHERE OBJECT_NAME = 'AP_INVOICES_V'

SELECT * FROM ALL_VIEWS WHERE VIEW_NAME  LIKE '%XX%PO%'              --= 'AP_INVOICES_V'

SELECT * FROM ALL_VIEWS WHERE VIEW_NAME  LIKE 'XX%INV%'   -- AP VIEWS

SELECT * FROM ALL_VIEWS WHERE VIEW_NAME  LIKE '%XX%ITEM%'

SELECT * FROM ALL_VIEWS WHERE VIEW_NAME  LIKE '%WBI%'

SELECT * FROM PO_VENDORS_AP_V
SELECT * FROM XX_PO_ERV_V

SELECT * FROM WBI_XXKBGITEM_MT_D


--=======================================
--QUERY FOR  UPLOAD REQUISITION  FROM  STORE DEPT
--======================================

SELECT * FROM PO_REQUISITION_HEADERS_ALL
WHERE SEGMENT1 ='11610100634' -- '11610100633'

SELECT * FROM PO_REQUISITION_LINES_ALL 
WHERE REQUISITION_HEADER_ID = '241003'

SELECT * FROM ORG_ORGANIZATION_DEFINITIONS
WHERE ORGANIZATION_ID ='164'

SELECT DEST_ORGANIZATION FROM PO_REQUISITION_LINES_ALL 


SELECT SUBSTR(XX_GET_HR_OPERATING_UNIT(POH.ORG_ID),5),POH.DESCRIPTION,POH.ATTRIBUTE15 PRIRITY,POL.ITEM_DESCRIPTION,POL.QUANTITY,POL.NOTE_TO_AGENT,
POL.UNIT_PRICE,POL.ATTRIBUTE1 BRAND, POL.ATTRIBUTE2 ORIGIN, POL.ATTRIBUTE3 USE_OF_AREA,POL.TO_PERSON_ID REQUESTER ,
 POL.DESTINATION_ORGANIZATION_ID,POL.DESTINATION_ORGANIZATION_ID ORGANIZATIONS, POL.DELIVER_TO_LOCATION_ID LOCATIONS
FROM  PO_REQUISITION_HEADERS_ALL POH,
PO_REQUISITION_LINES_ALL POL
WHERE POH.REQUISITION_HEADER_ID= POL.REQUISITION_HEADER_ID
--and poh.segment1 = '11610100174'      --'11610100633'
ORDER BY POL.ITEM_DESCRIPTION
--and  pol.item_description = 'SOAP'



SELECT * FROM MTL_ITEM_LOCATIONS
WHERE INVENTORY_LOCATION_ID= '1531' 

SELECT* FROM ORG_ORGANIZATION_DEFINITIONS
SELECT * FROM MTL_SYSTEM_ITEMS_B 


SELECT COUNT(REQUISITION_LINE_ID), REQUISITION_HEADER_ID 
 FROM PO_REQUISITION_LINES_ALL
 GROUP BY REQUISITION_HEADER_ID 
 
SELECT * FROM PO_REQUISITION_HEADERS_ALL
WHERE REQUISITION_HEADER_ID= 80003

SELECT * FROM PO_REQUISITION_LINES_ALL POL,  MTL_SYSTEM_ITEMS_B MST
WHERE MST.DESCRIPTION = POL.ITEM_DESCRIPTION
AND REQUISITION_HEADER_ID= 80003

SELECT * FROM ORG_ORGANIZATION_DEFINITIONS
WHERE ORGANIZATION_ID= '81'

 SELECT ORGANIZATION_ID, INVENTORY_ITEM_ID, DESCRIPTION,
            (SEGMENT1 || '|' || SEGMENT2 || '|' || SEGMENT3 || '|' ||SEGMENT4 ) ITEM_CODE
           FROM MTL_SYSTEM_ITEMS_B

           SELECT * FROM MTL_SYSTEM_ITEMS_B
           
   --========================================================================== GO LIVE ===========================================================       
  --==============================================
  --  XXLOPR  -----> EBS Purchase requisition Report
  --NOTE: ekhane Item DESCRIPTION die sorting kora Hoise (ANIKER KAS THEKE PROD ER QUERY TA NIE SEKHANE KAJ KORESI)
  -- 11-NOV-2018
  --=================================================         
           
           
  SELECT PRH.REQUISITION_HEADER_ID,
        PRH.SEGMENT1 REQUISITION_NUM, 
        NOTE_TO_AGENT,
        PRH.REQUISITION_HEADER_ID HEADER_ID,
        PRH.CREATION_DATE CR_DT, 
        PRL.LINE_NUM,
        PRH.DESCRIPTION PR_DESC, 
     -- NVL(XX_PO_FROM_REQ.GET_PO_FRM_REQ_DIST( :P_ORG_ID,prh.requisition_header_id,prl.line_num),
     -- XX_PO_FROM_REQ.GET_PO_FRM_REQ_SHIP( :P_ORG_ID,prh.requisition_header_id,prl.line_num)) PO_NAME,
       TO_CHAR(PRH.CREATION_DATE,'DD-MON-RRRR HH12:MI:SS PM') CREATION_DT,
       TO_CHAR(PRH.APPROVED_DATE,'DD-MON-RRRR HH12:MI:SS PM')  APPROVED_DATE,
       PRL.ATTRIBUTE1 BRAND, 
       PRL.ATTRIBUTE2 ORIGIN,
       PRL.ATTRIBUTE9 DEPARTMENT,
       PRH.ATTRIBUTE15 PRIORITY,
       PRL.REFERENCE_NUM MOVE_ORDER_NO,
      (SELECT MTRL.QUANTITY FROM MTL_TXN_REQUEST_LINES MTRL,MTL_TXN_REQUEST_HEADERS MTRH WHERE MTRH.HEADER_ID=MTRL.HEADER_ID AND MTRL.INVENTORY_ITEM_ID=PRL.ITEM_ID AND MTRH.REQUEST_NUMBER=PRL.REFERENCE_NUM ) MOVE_ORDER_QTY,
      (SELECT B.DESCRIPTION FROM FND_FLEX_VALUE_SETS A, FND_FLEX_VALUES_VL B WHERE  A.FLEX_VALUE_SET_ID = B.FLEX_VALUE_SET_ID AND A.FLEX_VALUE_SET_NAME = 'XX_PROJECT' AND B.FLEX_VALUE=PRH.ATTRIBUTE1) PROJECT_NAME,
       NVL(PRH.AUTHORIZATION_STATUS,'INCOMPLETE') REQ_STATUS,
       PRL.SUGGESTED_BUYER_ID,
       PRH.PREPARER_ID,
       PRL.TO_PERSON_ID,
       PPF.FULL_NAME,
       PRH.ATTRIBUTE1 BUDGET_NO,
       PRL.ITEM_ID,
       MST.ITEM_CODE,
       MST.DESCRIPTION,
       PRL.QUANTITY UNIT,
     XX_30_DAYS_CONSUM_FN(NVL(PRH.APPROVED_DATE,PRH.CREATION_DATE),PRL.ITEM_ID,DESTINATION_ORGANIZATION_ID) CONSUM_QTYYY,
      ( XX_INV_DEPTM_ISS_QTY(DESTINATION_ORGANIZATION_ID,PRL.ITEM_ID,ADD_MONTHS(PRH.CREATION_DATE,-1),PRH.CREATION_DATE,UPPER(XX_P2P_GET_DEPT_INFO(PRL.TO_PERSON_ID)))) CONSUM_QTY,
       XX_PEND_REQ_QTY_FN(PRL.PO_LINE_ID) PENDING_QTY,
       XX_LAST_PO_INFO_FN(4,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPO,
       XX_LAST_PO_INFO_FN(1,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPD,
       XX_LAST_PO_INFO_FN(2,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPR,
       XX_LAST_PO_INFO_FN(3,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LP_SUPP,
       MUOM.UOM_CODE UOM,
       HRL1.LOCATION_CODE,
       TO_CHAR(TRUNC(PRL.NEED_BY_DATE),'DD-MON-RRRR') NEED_BY_DATE,
       PAAF.JOB_ID,
       PJ.NAME,
       PJ.JOB_DEFINITION_ID,
      -- pjd.segment1 department,
     --  (SELECT USE_AREA FROM XXKSRM_INV_USE_AREA_V IUA WHERE IUA.USE_AREA_ID=prL.ATTRIBUTE3 ) Use_of_Area,--use_area_type='XXKSRM_USE_AREA') Use_of_Area,
       (SELECT USE_AREA FROM XXKSRM_INV_USE_AREA_V IUA WHERE IUA.OU_ID=PRL.ATTRIBUTE3 ) USE_AREA,
       PRL.ATTRIBUTE3,
       PRL.NOTE_TO_RECEIVER,
       PRL.DESTINATION_ORGANIZATION_ID,
       HRO.ORGANIZATION_CODE ORG_CODE,
       PRH.TYPE_LOOKUP_CODE REQ_TYPE,
       SUBSTR(XX_GET_HR_OPERATING_UNIT(:P_ORG_ID),5) ORG_HEADER_NAME,
      -- XX_com_pkg.get_hr_operating_unit(:p_org_id) Org_header_name,
      -- XX_COM_PKG.GET_UNIT_address(:p_org_id) org_header_address,
       PRL.DESTINATION_SUBINVENTORY WAREHOUSE,
       --xx_inv_org_name_fn(prl.destination_organization_id) dest_loc,
        --xx_inv_org_name_fn(prl.source_organization_id) source_loc,
--        substr(GET_ORGANIZATION_NAME(prl.org_id),5) REQ_ORG_NAME,
--    GET_UNIT_ADDRESS(prl.org_id) REQ_ORG_ADDRESS,
    (SELECT NAME FROM HR_ALL_ORGANIZATION_UNITS WHERE ORGANIZATION_ID=PRL.DESTINATION_ORGANIZATION_ID)||' - '||HRO.ORGANIZATION_CODE DEST_ORG_NAME   ,    
          (SELECT LOCATION_CODE FROM HR_LOCATIONS_ALL WHERE LOCATION_ID=PRL.DELIVER_TO_LOCATION_ID) DEST_LOCATION,
    TO_CHAR (TRUNC (PRH.APPROVED_DATE),'DD-MON-RRRR') APPROVED_DATE,
       NVL(PRL.CANCEL_FLAG,'N') CANCEL_FLAG, 
       DECODE(PRL.CLOSED_CODE,NULL,'N','Y') CLOSED_FLAG,
       HRL.DESCRIPTION LOC,
       PRL.JUSTIFICATION ,
       PRH.ATTRIBUTE_CATEGORY
  FROM PO_REQUISITION_HEADERS_ALL PRH,
       PO_REQUISITION_LINES_ALL PRL,
       MTL_UNITS_OF_MEASURE_TL MUOM,
       PER_PEOPLE_F PPF,
       PER_ALL_ASSIGNMENTS_F PAAF,
       PAY_PEOPLE_GROUPS PPG,
       PER_JOBS PJ,
       PER_JOB_DEFINITIONS PJD,
              PER_ALL_POSITIONS PP,
       PER_POSITION_DEFINITIONS PD,
       ORG_ORGANIZATION_DEFINITIONS HRO,
       HR_LOCATIONS_ALL HRL,
      HR_LOCATIONS_ALL HRL1,
       (SELECT ORGANIZATION_ID,INVENTORY_ITEM_ID, DESCRIPTION,
                        (SEGMENT1 || '|' || SEGMENT2 || '|' || SEGMENT3|| '|' || SEGMENT4
                        ) ITEM_CODE
                   FROM MTL_SYSTEM_ITEMS_B) MST,
        HR_OPERATING_UNITS HOU           
 WHERE PRH.REQUISITION_HEADER_ID = PRL.REQUISITION_HEADER_ID
   AND SYSDATE BETWEEN PAAF.EFFECTIVE_START_DATE AND PAAF.EFFECTIVE_END_DATE
   AND SYSDATE BETWEEN PPF.EFFECTIVE_START_DATE AND PPF.EFFECTIVE_END_DATE
   AND PRH.PREPARER_ID = PPF.PERSON_ID
   AND PRH.PREPARER_ID = PAAF.PERSON_ID
  AND HRL.LOCATION_ID=DELIVER_TO_LOCATION_ID
  AND HRL1.LOCATION_ID=PAAF.LOCATION_ID
   AND PPF.PERSON_ID = PAAF.PERSON_ID
   AND PAAF.JOB_ID(+) = PJ.JOB_ID
   AND PPG.PEOPLE_GROUP_ID(+) = PAAF.PEOPLE_GROUP_ID
   AND PJ.JOB_DEFINITION_ID(+) = PJD.JOB_DEFINITION_ID
   AND PP.POSITION_ID=PAAF.POSITION_ID
   AND PP.POSITION_DEFINITION_ID=PD.POSITION_DEFINITION_ID
 --  AND NVL(PRL.MODIFIED_BY_AGENT_FLAG,'N')<>'Y'
  AND PRL.UNIT_MEAS_LOOKUP_CODE=MUOM.UNIT_OF_MEASURE(+)
  AND HRO.OPERATING_UNIT=HOU.ORGANIZATION_ID 
   AND PRL.ITEM_ID = MST.INVENTORY_ITEM_ID
   AND PRL.DESTINATION_ORGANIZATION_ID=MST.ORGANIZATION_ID  
      AND PRL.DESTINATION_ORGANIZATION_ID=HRO.ORGANIZATION_ID
      AND NVL(PRL.CANCEL_FLAG,'N')= ('N')
 AND PRH.ORG_ID = NVL(:P_ORG_ID,PRH.ORG_ID)
 AND PRL.DESTINATION_ORGANIZATION_ID=NVL(:P_INV_ORG,PRL.DESTINATION_ORGANIZATION_ID)
AND NVL2(:P_REQ_NO,PRH.REQUISITION_HEADER_ID,-1) BETWEEN NVL(:P_REQ_NO,-1) AND NVL(:P_REQ_NO_T,-1) 
  AND NVL(PD.SEGMENT3,'x')=NVL(:P_DEPT,NVL(PD.SEGMENT3,'x'))
  AND PRH.TYPE_LOOKUP_CODE=NVL(:P_TYPE,PRH.TYPE_LOOKUP_CODE) 
   AND PRH.AUTHORIZATION_STATUS= NVL(:P_STATUS,PRH.AUTHORIZATION_STATUS) 
   --AND  prh.attribute15 = NVL(:P_PEIORITY,  prh.attribute15)
 AND PRH.TYPE_LOOKUP_CODE='PURCHASE'
 AND NVL(PRH.ATTRIBUTE_CATEGORY,0) NOT IN ('Planned Requisition')
  AND NVL(UPPER(PRH.ATTRIBUTE_CATEGORY),0) NOT IN ('SHIPPING INFORMATION')
   AND NVL(UPPER(PRL.ATTRIBUTE_CATEGORY),0) NOT IN ('BRANDING')
  -- AND prh.requisition_header_id = '30002'  
  ORDER BY MST.ITEM_CODE
--ORDER BY PRL.REQUISITION_LINE_ID
 

--=======================================
--XXINVALLSTOCK -----> XXKSRM Item Stock All 
--10-NOV-2018
--======================================

SELECT
DISTINCT 
WXMD.ORGANIZATION_ID
,WXMD.ORGANIZATION_CODE
,WXMD.ORGANIZATION_CODE||'-'||WXMD.ORGANIZATION_NAME ORGANIZATION_NAME
,NVL((SELECT OPERATING_UNIT_ADDRESS FROM WBI_INV_ORG_DETAIL WHERE INV_ORGANIZATION_ID= :P_ORGANIZATION_ID),'Kabir Manzil,SK, Mujib Road,Agrabad,Chittagong,BD') ORGANIZATION_ADDRESS
,NVL((SELECT DISTINCT OPERATING_UNIT_NAME FROM WBI_INV_ORG_DETAIL WHERE INV_ORGANIZATION_ID=:P_ORGANIZATION_ID),'KABIR GROUP') ORG_NAME
,WXMD.INVENTORY_ITEM_ID
,WXMD.ITEM_TYPE
,WXMD.ITEM_GROUP
,WXMD.ITEM_SUB_GROUP
,WXMD.ITEM_CODE
,WXMD.ITEM_DESC
,WXMD.UOM1 UOM
, :P_TRANSACTION_DATE_FROM DATE_FROM 
, :P_TRANSACTION_DATE_TO DATE_TO
, WXMD.FINANCE_CATEGORY FINANCE_CATEGORY
,XX_INV_PKG.XX_INV_OPEN_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM) OPENING_STOCK_NEW
,XX_INV_PKG.XX_INV_RECV_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM,:P_TRANSACTION_DATE_TO) RECEIVED_QTY_NEW
,XX_INV_PKG.XX_INV_ISSU_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM,:P_TRANSACTION_DATE_TO) ISSUED_QTY_NEW
---------------------------------
,(XX_INV_PKG.XX_INV_OPEN_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM) 
+XX_INV_PKG.XX_INV_RECV_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM,:P_TRANSACTION_DATE_TO) 
-XX_INV_PKG.XX_INV_ISSU_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM,:P_TRANSACTION_DATE_TO) ) CLOSING_STOCK
-------------------------------------
,(SELECT NVL(MIN_MINMAX_QUANTITY,0) FROM MTL_SYSTEM_ITEMS_B WHERE ORGANIZATION_ID=WXMD.ORGANIZATION_ID AND INVENTORY_ITEM_ID=WXMD.INVENTORY_ITEM_ID) SAFETY_STOCK
,MMT.SUBINVENTORY_CODE
--, XX_INV_PKG.XX_INV_ITEM_LOCATOR(MMT.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, MMT.INVENTORY_ITEM_ID ) LOCATOR_INFO
----=====================================================
,XX_INV_PKG.XXGET_ENAME (TO_CHAR (:P_USER)) USER_NAME
---===============================================================
FROM 
WBI_XXKBGITEM_MT_D WXMD, 
MTL_MATERIAL_TRANSACTIONS MMT
WHERE WXMD.ORGANIZATION_ID=MMT.ORGANIZATION_ID(+)
AND WXMD.INVENTORY_ITEM_ID=MMT.INVENTORY_ITEM_ID(+)
----AND TO_DATE(MMT.TRANSACTION_DATE) BETWEEN TO_DATE(:P_TRANSACTION_DATE_FROM) AND TO_DATE(:P_TRANSACTION_DATE_TO)
AND WXMD.ORGANIZATION_ID=:P_ORGANIZATION_ID
AND WXMD.ITEM_CODE=NVL(:P_ITEM_CODE,WXMD.ITEM_CODE)
AND WXMD.ITEM_TYPE=NVL(:P_ITEM_TYPE,WXMD.ITEM_TYPE)
AND WXMD.ITEM_GROUP=NVL(:P_ITEM_GROUP,WXMD.ITEM_GROUP)
AND WXMD.ITEM_SUB_GROUP=NVL(:P_ITEM_SUB_GROUP,WXMD.ITEM_SUB_GROUP)
AND NVL(WXMD.FINANCE_CATEGORY,'XXXX')=NVL(:P_FINANCE_CATEGORY,NVL(WXMD.FINANCE_CATEGORY,'XXXX'))
AND NVL(MMT.SUBINVENTORY_CODE,'XX')=NVL(:P_SUBINVENTORY_CODE,NVL(MMT.SUBINVENTORY_CODE,'XX'))
--AND PRH.TYPE_LOOKUP_CODE=NVL(:P_TYPE,PRH.TYPE_LOOKUP_CODE) 
  
--================================================
--PROD PURCHASE REQUISITION REPORT FOR UPDATE
-- 11-NOV-2018
--================================================

SELECT PRH.REQUISITION_HEADER_ID,
        PRH.SEGMENT1 REQUISITION_NUM, 
        NOTE_TO_AGENT,
        PRH.REQUISITION_HEADER_ID HEADER_ID,
        PRH.CREATION_DATE CR_DT, 
        PRL.LINE_NUM,
        PRH.DESCRIPTION PR_DESC, 
     -- NVL(XX_PO_FROM_REQ.GET_PO_FRM_REQ_DIST( :P_ORG_ID,prh.requisition_header_id,prl.line_num),
     -- XX_PO_FROM_REQ.GET_PO_FRM_REQ_SHIP( :P_ORG_ID,prh.requisition_header_id,prl.line_num)) PO_NAME,
       TO_CHAR(PRH.CREATION_DATE,'DD-MON-RRRR HH12:MI:SS PM') CREATION_DT,
       TO_CHAR(PRH.APPROVED_DATE,'DD-MON-RRRR HH12:MI:SS PM')  APPROVED_DATE,
       PRL.ATTRIBUTE1 BRAND, 
       PRL.ATTRIBUTE2 ORIGIN,
       PRL.ATTRIBUTE9 DEPARTMENT,
       PRH.ATTRIBUTE15 PRIORITY,
       PRL.REFERENCE_NUM MOVE_ORDER_NO,
      (SELECT MTRL.QUANTITY FROM MTL_TXN_REQUEST_LINES MTRL,MTL_TXN_REQUEST_HEADERS MTRH WHERE MTRH.HEADER_ID=MTRL.HEADER_ID AND MTRL.INVENTORY_ITEM_ID=PRL.ITEM_ID AND MTRH.REQUEST_NUMBER=PRL.REFERENCE_NUM ) MOVE_ORDER_QTY,
      (SELECT B.DESCRIPTION FROM FND_FLEX_VALUE_SETS A, FND_FLEX_VALUES_VL B WHERE  A.FLEX_VALUE_SET_ID = B.FLEX_VALUE_SET_ID AND A.FLEX_VALUE_SET_NAME = 'XX_PROJECT' AND B.FLEX_VALUE=PRH.ATTRIBUTE1) PROJECT_NAME,
       NVL(PRH.AUTHORIZATION_STATUS,'INCOMPLETE') REQ_STATUS,
       PRL.SUGGESTED_BUYER_ID,
       PRH.PREPARER_ID,
       PRL.TO_PERSON_ID,
       PPF.FULL_NAME,
       PRH.ATTRIBUTE1 BUDGET_NO,
       PRL.ITEM_ID,
       MST.ITEM_CODE,
       MST.DESCRIPTION,
       PRL.QUANTITY UNIT,
     XX_30_DAYS_CONSUM_FN(NVL(PRH.APPROVED_DATE,PRH.CREATION_DATE),PRL.ITEM_ID,DESTINATION_ORGANIZATION_ID) CONSUM_QTYYY,
      ( XX_INV_DEPTM_ISS_QTY(DESTINATION_ORGANIZATION_ID,PRL.ITEM_ID,ADD_MONTHS(PRH.CREATION_DATE,-1),PRH.CREATION_DATE,UPPER(XX_P2P_GET_DEPT_INFO(PRL.TO_PERSON_ID)))) CONSUM_QTY,
       XX_PEND_REQ_QTY_FN(PRL.PO_LINE_ID) PENDING_QTY,
       XX_LAST_PO_INFO_FN(4,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPO,
       XX_LAST_PO_INFO_FN(1,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPD,
        XX_LAST_PO_INFO_FN(2,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPR,
         XX_LAST_PO_INFO_FN(3,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LP_SUPP,
       MUOM.UOM_CODE UOM,
       HRL1.LOCATION_CODE,
       TO_CHAR(TRUNC(PRL.NEED_BY_DATE),'DD-MON-RRRR') NEED_BY_DATE,
       PAAF.JOB_ID,
       PJ.NAME,
       PJ.JOB_DEFINITION_ID,
      -- pjd.segment1 department,
    --   (SELECT USE_AREA FROM XXKSRM_INV_USE_AREA_V IUA WHERE IUA.USE_AREA_ID=prL.ATTRIBUTE3 ) Use_of_Area,--use_area_type='XXKSRM_USE_AREA') Use_of_Area,
       PRL.NOTE_TO_RECEIVER,
       PRL.DESTINATION_ORGANIZATION_ID,
       HRO.ORGANIZATION_CODE ORG_CODE,
       PRH.TYPE_LOOKUP_CODE REQ_TYPE,
       SUBSTR(XX_GET_HR_OPERATING_UNIT(:P_ORG_ID),5) ORG_HEADER_NAME,
      -- XX_com_pkg.get_hr_operating_unit(:p_org_id) Org_header_name,
      -- XX_COM_PKG.GET_UNIT_address(:p_org_id) org_header_address,
       PRL.DESTINATION_SUBINVENTORY WAREHOUSE,
       --xx_inv_org_name_fn(prl.destination_organization_id) dest_loc,
        --xx_inv_org_name_fn(prl.source_organization_id) source_loc,
--        substr(GET_ORGANIZATION_NAME(prl.org_id),5) REQ_ORG_NAME,
--    GET_UNIT_ADDRESS(prl.org_id) REQ_ORG_ADDRESS,
    (SELECT NAME FROM HR_ALL_ORGANIZATION_UNITS WHERE ORGANIZATION_ID=PRL.DESTINATION_ORGANIZATION_ID)||' - '||HRO.ORGANIZATION_CODE DEST_ORG_NAME   ,    
          (SELECT LOCATION_CODE FROM HR_LOCATIONS_ALL WHERE LOCATION_ID=PRL.DELIVER_TO_LOCATION_ID) DEST_LOCATION,
    TO_CHAR (TRUNC (PRH.APPROVED_DATE),'DD-MON-RRRR') APPROVED_DATE,
       NVL(PRL.CANCEL_FLAG,'N') CANCEL_FLAG, 
       DECODE(PRL.CLOSED_CODE,NULL,'N','Y') CLOSED_FLAG,
       HRL.DESCRIPTION LOC,
       PRL.JUSTIFICATION ,
       PRH.ATTRIBUTE_CATEGORY
  FROM PO_REQUISITION_HEADERS_ALL PRH,
       PO_REQUISITION_LINES_ALL PRL,
       MTL_UNITS_OF_MEASURE_TL MUOM,
       PER_PEOPLE_F PPF,
       PER_ALL_ASSIGNMENTS_F PAAF,
       PAY_PEOPLE_GROUPS PPG,
       PER_JOBS PJ,
       PER_JOB_DEFINITIONS PJD,
              PER_ALL_POSITIONS PP,
       PER_POSITION_DEFINITIONS PD,
       ORG_ORGANIZATION_DEFINITIONS HRO,
       HR_LOCATIONS_ALL HRL,
      HR_LOCATIONS_ALL HRL1,
       (SELECT ORGANIZATION_ID,INVENTORY_ITEM_ID, DESCRIPTION,
                        (SEGMENT1 || '|' || SEGMENT2 || '|' || SEGMENT3|| '|' || SEGMENT4
                        ) ITEM_CODE
                   FROM MTL_SYSTEM_ITEMS_B) MST,
        HR_OPERATING_UNITS HOU           
 WHERE PRH.REQUISITION_HEADER_ID = PRL.REQUISITION_HEADER_ID
   AND SYSDATE BETWEEN PAAF.EFFECTIVE_START_DATE AND PAAF.EFFECTIVE_END_DATE
   AND SYSDATE BETWEEN PPF.EFFECTIVE_START_DATE AND PPF.EFFECTIVE_END_DATE
   AND PRH.PREPARER_ID = PPF.PERSON_ID
   AND PRH.PREPARER_ID = PAAF.PERSON_ID
  AND HRL.LOCATION_ID=DELIVER_TO_LOCATION_ID
  AND HRL1.LOCATION_ID=PAAF.LOCATION_ID
   AND PPF.PERSON_ID = PAAF.PERSON_ID
   AND PAAF.JOB_ID(+) = PJ.JOB_ID
   AND PPG.PEOPLE_GROUP_ID(+) = PAAF.PEOPLE_GROUP_ID
   AND PJ.JOB_DEFINITION_ID(+) = PJD.JOB_DEFINITION_ID
   AND PP.POSITION_ID=PAAF.POSITION_ID
   AND PP.POSITION_DEFINITION_ID=PD.POSITION_DEFINITION_ID
 --  AND NVL(PRL.MODIFIED_BY_AGENT_FLAG,'N')<>'Y'
  AND PRL.UNIT_MEAS_LOOKUP_CODE=MUOM.UNIT_OF_MEASURE(+)
  AND HRO.OPERATING_UNIT=HOU.ORGANIZATION_ID 
   AND PRL.ITEM_ID = MST.INVENTORY_ITEM_ID
   AND PRL.DESTINATION_ORGANIZATION_ID=MST.ORGANIZATION_ID  
      AND PRL.DESTINATION_ORGANIZATION_ID=HRO.ORGANIZATION_ID
      AND NVL(PRL.CANCEL_FLAG,'N')= ('N')
 AND PRH.ORG_ID = NVL(:P_ORG_ID,PRH.ORG_ID)
 AND PRL.DESTINATION_ORGANIZATION_ID=NVL(:P_INV_ORG,PRL.DESTINATION_ORGANIZATION_ID)
 AND NVL2(:P_REQ_NO,PRH.REQUISITION_HEADER_ID,-1) BETWEEN NVL(:P_REQ_NO,-1) AND NVL(:P_REQ_NO_T,-1) 
  AND NVL(PD.SEGMENT3,'x')=NVL(:P_DEPT,NVL(PD.SEGMENT3,'x'))
  AND PRH.TYPE_LOOKUP_CODE=NVL(:P_TYPE,PRH.TYPE_LOOKUP_CODE) 
   AND PRH.AUTHORIZATION_STATUS= NVL(:P_STATUS,PRH.AUTHORIZATION_STATUS)
   --AND  prh.attribute15 = NVL(:P_PEIORITY,  prh.attribute15)
 AND PRH.TYPE_LOOKUP_CODE='PURCHASE' 
 AND NVL(PRH.ATTRIBUTE_CATEGORY,0) NOT IN ('Planned Requisition')
  AND NVL(UPPER(PRH.ATTRIBUTE_CATEGORY),0) NOT IN ('SHIPPING INFORMATION')
   AND NVL(UPPER(PRL.ATTRIBUTE_CATEGORY),0) NOT IN ('BRANDING')
ORDER BY  MST.DESCRIPTION

--==============================================
--XXP2PSUMMARY  ----> EBS P2P Status Summary Report 
-- FOR ACCOUNTS 
--==============================================

SELECT DISTINCT AIA.ORG_ID,
SUBSTR(XX_GET_HR_OPERATING_UNIT (AIA.ORG_ID),5) OPERATING_UNIT,
XX_ONT_GET_ENAME(:P_USER) PRINTED_BY ,
XX_INV_PKG.XXGET_ORG_LOCATION (AIA.ORG_ID) ORG_ADDRESS,
AIA.INVOICE_NUM,
 AIA.INVOICE_DATE,
 AIA.GL_DATE,
 AIA.INVOICE_AMOUNT, 
 AIA.DOC_SEQUENCE_VALUE INV_VOUCHER_NO,
 XX_GET_EMP_NAME_FROM_USER_ID (AIA.CREATED_BY) INV_CREATED_BY,
 ( SELECT CONCATENATED_SEGMENTS
 FROM GL_CODE_COMBINATIONS_KFV
 WHERE CODE_COMBINATION_ID = AIDA.DIST_CODE_COMBINATION_ID
 ) DIST_GL_CODE,
 APS.VENDOR_NAME,
 APS.SEGMENT1 VENDOR_NO,
 APSS.VENDOR_SITE_CODE,
 POH.SEGMENT1 PO_NUMBER,
 POH.CREATION_DATE PO_DATE,
 (
  SELECT SUM ( (PLA.UNIT_PRICE * PLA.QUANTITY)) PRICE
   FROM PO_LINES_ALL PLA, PO_HEADERS_ALL PHA
   WHERE PLA.PO_HEADER_ID = PHA.PO_HEADER_ID
   AND PHA.ORG_ID = AIA.ORG_ID
   AND PHA.SEGMENT1 =POH.SEGMENT1
         ) PO_AMOUNT,
 RSH.RECEIPT_NUM GRN_NUMBER, 
 RSH.CREATION_DATE GRN_DATE,
 (
 SELECT CONCATENATED_SEGMENTS
 FROM GL_CODE_COMBINATIONS_KFV
 WHERE CODE_COMBINATION_ID = PDA.CODE_COMBINATION_ID
 ) DIST_PO_CODE,
 AIA.DOC_SEQUENCE_VALUE VOUCHER_NO,
 (
 SELECT SEGMENT1||'.'||SEGMENT2||'.'||SEGMENT3||'.'||SEGMENT4
 FROM MTL_SYSTEM_ITEMS_B
 WHERE INVENTORY_ITEM_ID = POL.ITEM_ID
 AND ORGANIZATION_ID = PLL.SHIP_TO_ORGANIZATION_ID
 ) ITEM_CODE,
  (
 SELECT DESCRIPTION
 FROM MTL_SYSTEM_ITEMS_B
 WHERE INVENTORY_ITEM_ID = POL.ITEM_ID
 AND ORGANIZATION_ID = PLL.SHIP_TO_ORGANIZATION_ID
 ) ITEM_DESCRIPTION,
 AIDA.ACCOUNTING_DATE
 /* ,(
 select SERVICE_TAX_REGNO
 FROM JAI_CMN_VENDOR_SITES
 WHERE vendor_id = aia.vendor_id
 AND vendor_site_id = aia.vendor_site_id
 ) st_reg_no,
 (
 SELECT pan_no
 FROM JAI_AP_TDS_VENDOR_HDRS
 where vendor_id = aia.vendor_id
 AND vendor_site_id = aia.vendor_site_id
 ) pan_no,
 -- jtl.UNROUND_TAXABLE_AMT_TRX_CURR,
 -- jtl. */
,ACA.CHECK_NUMBER INSTRUMENT_NO
,ACA.CHECK_DATE INSTURMENT_DATE
,ACA.VENDOR_NAME PAY_PARTY_NAME
,ACA.DOC_SEQUENCE_VALUE PAYMENT_VOUCHER
,ACA.CREATION_DATE PAY_CREATE_DATE
,ACA.DOC_CATEGORY_CODE PAYMENT_TYPE
,ACA.STATUS_LOOKUP_CODE PAYMENT_STATUS
--,CF.CASHFLOW_STATUS_CODE CASH_STATUS
,ACA.CURRENCY_CODE PAY_CURRENCY_CODE
,ACA.AMOUNT PAY_AMOUNT
,ACA.CLEARED_AMOUNT 
,ACA.CLEARED_DATE
,ACA.BANK_ACCOUNT_NAME
--,CF.CLEARED_DATE
--,CF.CLEARED_AMOUNT
FROM AP_INVOICES_ALL AIA,
 AP_INVOICE_LINES_ALL AILA,
 AP_SUPPLIERS APS,
 AP_SUPPLIER_SITES_ALL APSS,
 AP_INVOICE_DISTRIBUTIONS_ALL AIDA,
 PO_HEADERS_ALL POH,
 PO_LINES_ALL POL,
 PO_LINE_LOCATIONS_ALL PLL,
 PO_DISTRIBUTIONS_ALL PDA,
 RCV_TRANSACTIONS RT,
 RCV_SHIPMENT_HEADERS RSH,
AP_INVOICE_PAYMENTS_ALL AIPA, -- newly added
AP_CHECKS_ALL ACA-- newly added
-- , jai_tax_lines jtl
WHERE AIA.INVOICE_ID = AILA.INVOICE_ID
AND AILA.ORG_ID = AIA.ORG_ID
AND AILA.PO_HEADER_ID = POH.PO_HEADER_ID
AND AILA.PO_LINE_ID = POL.PO_LINE_ID
AND AILA.INVOICE_ID =AIDA.INVOICE_ID
AND AIA.VENDOR_ID = APS.VENDOR_ID
AND AIA.VENDOR_SITE_ID = APSS.VENDOR_SITE_ID
AND AIA.VENDOR_ID = APSS.VENDOR_ID
AND APSS.ORG_ID = AIA.ORG_ID
AND AIDA.INVOICE_LINE_NUMBER = AILA.LINE_NUMBER
AND AIDA.ORG_ID= AILA.ORG_ID
AND POH.PO_HEADER_ID = POL.PO_HEADER_ID
AND PLL.PO_HEADER_ID = POH.PO_HEADER_ID
AND PLL.PO_LINE_ID = POL.PO_LINE_ID
AND PLL.LINE_LOCATION_ID = PDA.LINE_LOCATION_ID
AND PLL.PO_HEADER_ID = PDA.PO_HEADER_ID
AND PLL.PO_LINE_ID = PDA.PO_LINE_ID
AND POL.ORG_ID = PDA.ORG_ID
AND POH.ORG_ID = PLL.ORG_ID
AND AILA.RCV_TRANSACTION_ID = RT.TRANSACTION_ID
AND RT.SHIPMENT_HEADER_ID = RSH.SHIPMENT_HEADER_ID
AND AIA.INVOICE_ID=AIPA.INVOICE_ID(+)
AND AIPA.CHECK_ID=ACA.CHECK_ID(+)
--AND ACA.BANK_ACCOUNT_ID=CF.CASHFLOW_BANK_ACCOUNT_ID(+)
AND (:P_ORG_ID IS NULL OR AIA.ORG_ID = :P_ORG_ID) --AP org id
AND (:P_VENDOR_NO IS NULL OR APS.SEGMENT1 = :P_VENDOR_NO) --aps.segment1 for supplier/vendor name
AND (:P_INV_FROM_DT IS NULL OR TRUNC(AIA.INVOICE_DATE) BETWEEN :P_INV_FROM_DT AND :P_INV_TO_DT) --AP INV Creation from date, to date
AND (:P_FROM_INV_VOU IS NULL OR AIA.DOC_SEQUENCE_VALUE BETWEEN :P_FROM_INV_VOU AND :P_TO_INV_VOU) --AP  INV voucher from - to 
AND (:P_PO_NO IS NULL OR POH.SEGMENT1 = :P_PO_NO) 
AND (:P_GRN_NO IS NULL OR RSH.RECEIPT_NUM = :P_GRN_NO)


SELECT * FROM AP_INVOICES_ALL

SELECT * FROM AP_PAYMENTS_ALL

--==============================================
--XXPOTRANSTATUS ----> EBS PO Transaction Status Report 
--DATE: 12-NOV-2018
--=============================================

SELECT
PHA.ATTRIBUTE4 H_DIS,
PHA.ATTRIBUTE13 PROJECT,
PHA.TYPE_LOOKUP_CODE PO_TYPEEE,
(SELECT B.DESCRIPTION FROM FND_FLEX_VALUE_SETS A, FND_FLEX_VALUES_VL B WHERE  A.FLEX_VALUE_SET_ID = B.FLEX_VALUE_SET_ID AND A.FLEX_VALUE_SET_NAME = 'XX_PO_TYPE' AND B.FLEX_VALUE=PHA.ATTRIBUTE1) PO_TYPE,
PLA.LINE_NUM, 
PHA.PO_HEADER_ID,
PLA.PO_LINE_ID,
PHA.ATTRIBUTE1||'/'||PHA.SEGMENT1 PO_NUM,
TO_CHAR (PHA.CREATION_DATE, 'DD-MON-RRRR') PO_CR_DT,
PHA.ATTRIBUTE2 CON_PERSON,
XX_GET_ACCT_FLEX_SEG_DESC (7, PHA.ATTRIBUTE14) PROJECT_NAME,
--PHA.ATTRIBUTE10 TERM_DAYS,
PHA.AUTHORIZATION_STATUS,
TO_CHAR (PHA.APPROVED_DATE, 'DD-MON-RRRR') PO_APP_DT,
PHA.CURRENCY_CODE,
PHA.RATE,
OOD.ORGANIZATION_CODE DESTINITION,
POV.SEGMENT1 SUPPLIER_ID,
POV.VENDOR_NAME SUPPLIER_NAME,
ADDRESS_LINE1||' '||ADDRESS_LINE2||' '||PVS.CITY SUPPLIER_ADD,
PVS.CITY||'-'||PVS.ZIP CITY_ZIP,
PVS.PHONE SUPP_PHONE,
PVS.TELEX,
PVS.EMAIL_ADDRESS SUPP_EMAIL,
SUBSTR(XX_GET_HR_OPERATING_UNIT(:P_ORG_ID),5,200) ORG_HEADER_NAME,
HRL.ADDRESS_LINE_1||' '||HRL.ADDRESS_LINE_2||' '||HRL.ADDRESS_LINE_3||'  '||HRL.REGION_1||' '||HRL.POSTAL_CODE BCL_F_ADD,
HRL.TELEPHONE_NUMBER_1 PHP_F_PHONE,
HRL.TELEPHONE_NUMBER_2 PHP_F_FAX,
HRL.LOC_INFORMATION13 PHP_F_EMAIL,
MP.ORGANIZATION_ID INVENTORY_ORG,
MP.ORGANIZATION_CODE||' - '||HRL.LOCATION_CODE IO,
XX_P2P_PKG.LC_FROM_PO(PHA.PO_HEADER_ID) LC_NO,
PRA.RELEASE_NUM,
TO_CHAR(PRA.RELEASE_DATE, 'DD-MON-RRRR') RELEASE_DATE, 
PHA.REVISION_NUM,
HRL1.ADDRESS_LINE_1||' '||HRL1.ADDRESS_LINE_2||' '||HRL1.ADDRESS_LINE_3||'  '||HRL1.REGION_1||' '||HRL1.POSTAL_CODE BCL_BILL_ADD,
TO_CHAR (PLL.PROMISED_DATE, 'DD-MON-RRRR') PROMISED_DATE,
DECODE (PDA.REQ_HEADER_REFERENCE_NUM,
               NULL,XX_P2P_PKG.XX_FND_REQUISITION_INFO(PLL.ATTRIBUTE1,:P_ORG_ID,PLL.ATTRIBUTE2,'RNUM'),
               PDA.REQ_HEADER_REFERENCE_NUM) REQUISITION_NO ,
XX_P2P_PKG.XX_FND_CS_NO_INFO(PHA.PO_HEADER_ID,PHA.ORG_ID) CSS_NO,
TO_CHAR(XX_P2P_PKG.XX_FND_CS_DATE_INFO(PHA.PO_HEADER_ID,PHA.ORG_ID), 'DD-MON-RRRR') CSS_DATE,
PLA.ATTRIBUTE1 BRAND,
PLA.ATTRIBUTE2 ORIGIN,               
MST.ITEM_CODE,
PHA.ATTRIBUTE4 DIS_AMT,
PHA.ATTRIBUTE5 DIS_PER,
PHA.ATTRIBUTE6 CONTACT_PERSON,
PLA.ATTRIBUTE3 SPECIFICATIONS ,
PLA.ITEM_DESCRIPTION,MUOM.UOM_CODE,
SUM(PLL.QUANTITY) PO_QTY,
PLA.UNIT_PRICE PRICE,
NVL((NVL(PLA.ATTRIBUTE11,0)/100*PLA.UNIT_PRICE),0)+NVL(PLA.ATTRIBUTE5,0) DISCOUNT_PRICE,
SUM(PLL.QUANTITY)*PLA.UNIT_PRICE CF_NET_VALUE_SUM,
NVL(PHA.ATTRIBUTE10,0) CARRYING_COST,
(NVL((NVL(PLA.ATTRIBUTE11,0)/100*PLA.UNIT_PRICE),0)+NVL(PLA.ATTRIBUTE5,0))*SUM(PLL.QUANTITY) DISCOUNT_PRICE_SUM,
--PLA.UNIT_PRICE-NVL((NVL(NVL(to_number(PLA.ATTRIBUTE11),0)/100*NVL(PLA.UNIT_PRICE,0),0)+PLA.ATTRIBUTE5),0) UNIT_PRICE,
PLA.ATTRIBUTE5 LINE_DIS,
--PLA.ATTRIBUTE11 LINE_DIS_PER,
XX_P2P_EMP_INFO.XX_P2P_GET_ONLY_EMPN(PHA.CREATION_DATE,PHA.AGENT_ID) CREATOR_DETAILS,
NVL(PHA1.SEGMENT1,'...............') QUOTE_NO,
NVL(PHA1.QUOTE_VENDOR_QUOTE_NUMBER,'...............') SUPPLIER_QUOTE,
NVL(TO_CHAR (PHA1.REPLY_DATE, 'DD-MON-RRRR'),'...............')  REPLY_DATE,
 '(For '||POV.VENDOR_NAME||')' SUPP_ALIAS,
NVL(PHA.ATTRIBUTE15,0) VAT,
RT.DELIVER_QTY,
PL.QUANTITY_REJECTED REJECTED_QTY,
--RT.REJECTED_QTY,
RT.RETURN_QTY,
RT.RECEIPT_NO,
RT.RECEIPT_DATE,
RT.RECEIPT_QTY,
TO_CHAR(:P_F_PO_DT,'DD-MON-RRRR') FROM_DATE,
TO_CHAR(:P_T_PO_DT,'DD-MON-RRRR') TO_DATEE
--  case  when PHA.ATTRIBUTE15 is null then  'VAT Included' else PHA.ATTRIBUTE15  end vat
  FROM PO_HEADERS_ALL PHA,
       PO_HEADERS_ALL PHA1,
       PO_LINES_ALL PLA,
       MTL_UNITS_OF_MEASURE_TL MUOM,
       PO_LINE_LOCATIONS_ALL PLL,
       AP_SUPPLIERS POV,
       AP_SUPPLIER_SITES_ALL PVS,
       HR_LOCATIONS_ALL HRL,
       HR_LOCATIONS_ALL HRL1,
       ORG_ORGANIZATION_DEFINITIONS OOD,
       PO_RELEASES_ALL PRA,
       (SELECT  REQ_HEADER_REFERENCE_NUM, LINE_LOCATION_ID
                   FROM XX_PO_DISTRIBUTIONS_V
                   WHERE PO_HEADER_ID=:P_PO_NO
                   GROUP BY REQ_HEADER_REFERENCE_NUM, LINE_LOCATION_ID) PDA,
       (SELECT ORGANIZATION_ID,INVENTORY_ITEM_ID, DESCRIPTION,
                        (SEGMENT1 || '-' || SEGMENT2 || '-' || SEGMENT3|| '-' || SEGMENT4
                        ) ITEM_CODE
                   FROM MTL_SYSTEM_ITEMS_B) MST,
                   MTL_PARAMETERS MP,
                   (SELECT DISTINCT  WRT.ORGANIZATION_ID,WRT.PO_HEADER_ID,WRT.PO_LINE_ID,SUM(WRT.RECEIPT_QTY) RECEIPT_QTY,  SUM(WRT.ACCEPTED_QTY) ACCEPTED_QTY, 
                        (NVL(SUM( WRT.RETURN_QTY),0)+NVL(SUM(WRT.DLV_RETURN_QTY),0)) RETURN_QTY,(SUM(WRT.DELIVER_QTY)-NVL(SUM(WRT.DLV_RETURN_QTY),0)) DELIVER_QTY,WRT.RECEIPT_NO,TO_CHAR(WRT.RECEIPT_DATE, 'DD-MON-YYYY') RECEIPT_DATE--,LISTAGG(RECEIPT_NO,',') within group  (ORDER BY RECEIPT_NO) GRN_NO 
                        FROM INV_RCV_TRANSACTIONS_P2P_VW WRT
                        WHERE TRANSACTION_TYPE='RECEIVE'
                        GROUP BY WRT.PO_HEADER_ID,WRT.PO_LINE_ID,WRT.RECEIPT_NO, WRT.ORGANIZATION_ID,TO_CHAR(WRT.RECEIPT_DATE, 'DD-MON-YYYY')) RT,
                        PO_LINE_LOCATIONS PL
 WHERE PHA.PO_HEADER_ID = PLA.PO_HEADER_ID
   AND PHA.VENDOR_ID = POV.VENDOR_ID
   AND PHA.VENDOR_SITE_ID = PVS.VENDOR_SITE_ID
   AND POV.VENDOR_ID = PVS.VENDOR_ID
   AND PHA.TYPE_LOOKUP_CODE IN ('BLANKET', 'STANDARD')
   AND NVL (UPPER (PHA.AUTHORIZATION_STATUS), 'INCOMPLETE') = 'APPROVED'
   AND PHA.APPROVED_FLAG = 'Y'
   AND PLA.PO_HEADER_ID = PLL.PO_HEADER_ID
   AND PLA.PO_LINE_ID = PLL.PO_LINE_ID
   AND PLA.ITEM_ID = MST.INVENTORY_ITEM_ID
   AND HRL.LOCATION_ID = PLL.SHIP_TO_LOCATION_ID
   AND HRL1.LOCATION_ID = PHA.BILL_TO_LOCATION_ID
   AND PDA.LINE_LOCATION_ID(+) = PLL.LINE_LOCATION_ID
   AND PHA1.PO_HEADER_ID(+) = PHA.FROM_HEADER_ID
   AND PLL.PO_RELEASE_ID = PRA.PO_RELEASE_ID(+)
   AND UPPER(PLL.SHIPMENT_TYPE)<>'PRICE BREAK'
   AND PLA.UNIT_MEAS_LOOKUP_CODE=MUOM.UNIT_OF_MEASURE(+)
   AND NVL(PHA.CANCEL_FLAG,'N')='N'
   AND NVL(PLA.CANCEL_FLAG,'N')='N' 
   AND NVL(PLL.CANCEL_FLAG,'N')='N'
   AND PLL.APPROVED_FLAG = 'Y'
   AND NVL(PRA.APPROVED_FLAG,'Y')='Y'
   AND NVL(PRA.AUTHORIZATION_STATUS,'APPROVED')='APPROVED'
   AND NVL(PRA.CANCEL_FLAG,'N')='N'
   AND PLL.SHIP_TO_ORGANIZATION_ID=MST.ORGANIZATION_ID
   AND PLA.PO_HEADER_ID=RT.PO_HEADER_ID(+)
    AND PHA.PO_HEADER_ID=PL.PO_HEADER_ID(+)---
 AND PLA.PO_LINE_ID=PL.PO_LINE_ID(+)---
 AND RT.PO_HEADER_ID=PL.PO_HEADER_ID(+)---
 AND RT.PO_LINE_ID=PL.PO_LINE_ID(+)---
-- AND RT.LINE_LOCATION_ID=PL.LINE_LOCATION_ID---
 AND PDA.LINE_LOCATION_ID=PL.LINE_LOCATION_ID(+)---
   AND PLA.PO_LINE_ID=RT.PO_LINE_ID(+)
  AND UPPER(NVL(PLA.ATTRIBUTE_CATEGORY,0)) NOT IN ('Branding')
 AND UPPER(NVL(PHA.ATTRIBUTE_CATEGORY,0)) NOT IN ('Branding_Info','Shipping_Info')
   AND PHA.ORG_ID = :P_ORG_ID
   AND PHA.PO_HEADER_ID BETWEEN NVL(:P_PO_NO, PHA.PO_HEADER_ID) AND NVL(:P_PO_TO, PHA.PO_HEADER_ID)
    AND NVL2(:P_PO_NO,PHA.PO_HEADER_ID,-1) BETWEEN NVL(:P_PO_NO,-1) AND NVL(:P_PO_TO,-1) 
    AND TRUNC(PHA.CREATION_DATE) BETWEEN NVL(:P_F_PO_DT,TRUNC(PHA.CREATION_DATE)) AND NVL(:P_T_PO_DT,TRUNC(PHA.CREATION_DATE))
       AND PLA.ITEM_ID=NVL(:P_ITEM_ID,PLA.ITEM_ID)
   AND OOD.ORGANIZATION_ID = PLL.SHIP_TO_ORGANIZATION_ID  
   AND MP.ORGANIZATION_ID=PLL.SHIP_TO_ORGANIZATION_ID
   AND RT.ORGANIZATION_ID(+)=PLL.SHIP_TO_ORGANIZATION_ID
   AND DECODE (PHA.TYPE_LOOKUP_CODE, 'BLANKET', PRA.RELEASE_NUM, 900) =  NVL (:P_RELEASE, 900)
   AND PHA.ATTRIBUTE1=NVL(:P_PO_TYPE,PHA.ATTRIBUTE1)
   AND  PLL.SHIP_TO_ORGANIZATION_ID=NVL(:P_INV_ORG,PLL.SHIP_TO_ORGANIZATION_ID)
GROUP BY
PHA.ATTRIBUTE4,
PHA.TYPE_LOOKUP_CODE,
PLA.LINE_NUM, 
PL.QUANTITY_REJECTED,
PHA.PO_HEADER_ID,
PHA.ATTRIBUTE1,
PHA.ATTRIBUTE1||'/'||PHA.SEGMENT1,
PLA.ATTRIBUTE5,
PLA.ATTRIBUTE11,
MP.ORGANIZATION_ID ,
TO_CHAR (PHA.CREATION_DATE, 'DD-MON-RRRR'),
PHA.ATTRIBUTE2,
XX_GET_ACCT_FLEX_SEG_DESC (7, PHA.ATTRIBUTE14),
PHA.ATTRIBUTE4,
OOD.ORGANIZATION_CODE,
PHA.ATTRIBUTE3,
PHA.AUTHORIZATION_STATUS,
TO_CHAR (PHA.APPROVED_DATE, 'DD-MON-RRRR'),
PHA.CURRENCY_CODE,
PHA.RATE,
PHA.ATTRIBUTE6,
NVL(PHA.ATTRIBUTE10,0),
PHA.ATTRIBUTE12,
PLA.PO_LINE_ID,
PHA.ATTRIBUTE11,
POV.SEGMENT1,
POV.VENDOR_NAME,
ADDRESS_LINE1||' '||ADDRESS_LINE2||' '||PVS.CITY,
PVS.CITY||'-'||PVS.ZIP,
PVS.PHONE,
PVS.TELEX,
MP.ORGANIZATION_CODE||' - '||HRL.LOCATION_CODE,
PVS.EMAIL_ADDRESS,
--xx_com_pkg.get_hr_operating_unit(:p_org_id),
HRL.ADDRESS_LINE_1||' '||HRL.ADDRESS_LINE_2||' '||HRL.ADDRESS_LINE_3||'  '||HRL.REGION_1||' '||HRL.POSTAL_CODE,
HRL.TELEPHONE_NUMBER_1,
HRL.TELEPHONE_NUMBER_2,
HRL.LOC_INFORMATION13,
XX_P2P_PKG.LC_DT_FROM_PO(PHA.PO_HEADER_ID),
PRA.RELEASE_NUM,
TO_CHAR (PLL.PROMISED_DATE, 'DD-MON-RRRR'),
DECODE (PDA.REQ_HEADER_REFERENCE_NUM,
               NULL,XX_P2P_PKG.XX_FND_REQUISITION_INFO(PLL.ATTRIBUTE1,:P_ORG_ID,PLL.ATTRIBUTE2,'RNUM'),
               PDA.REQ_HEADER_REFERENCE_NUM) ,
XX_P2P_PKG.XX_FND_CS_NO_INFO(PHA.PO_HEADER_ID,PHA.ORG_ID),
TO_CHAR(XX_P2P_PKG.XX_FND_CS_DATE_INFO(PHA.PO_HEADER_ID,PHA.ORG_ID), 'DD-MON-RRRR'),
MST.ITEM_CODE,
PLA.ATTRIBUTE1,
PLA.ATTRIBUTE2,
PLA.ATTRIBUTE3  ,
PLA.ITEM_DESCRIPTION,MUOM.UOM_CODE,
PLA.UNIT_PRICE,
XX_P2P_EMP_INFO.XX_P2P_GET_ONLY_EMPN(PHA.CREATION_DATE,PHA.AGENT_ID) ,
NVL(PHA1.SEGMENT1,'...............'),
NVL(PHA1.QUOTE_VENDOR_QUOTE_NUMBER,'...............'),
NVL(TO_CHAR (PHA1.REPLY_DATE, 'DD-MON-RRRR'),'...............'),
 '(For '||POV.VENDOR_NAME||')',
NVL(PHA.ATTRIBUTE15,0),
PHA.ATTRIBUTE13,
PHA.ATTRIBUTE4,
PHA.ATTRIBUTE5,
PHA.ATTRIBUTE6,
--PHA.ATTRIBUTE15,
TO_CHAR(PRA.RELEASE_DATE, 'DD-MON-RRRR'), 
PLA.UNIT_PRICE-NVL((NVL(NVL(PLA.ATTRIBUTE11,0)/100*NVL(PLA.UNIT_PRICE,0),0)+PLA.ATTRIBUTE5),0),
NVL((NVL(PLA.ATTRIBUTE11,0)/100*PLA.UNIT_PRICE),0)+NVL(PLA.ATTRIBUTE5,0)*(PLL.QUANTITY),
PHA.REVISION_NUM,
PLA.UNIT_PRICE,
(HRL1.ADDRESS_LINE_1||' '||HRL1.ADDRESS_LINE_2||' '||HRL1.ADDRESS_LINE_3||'  '||HRL1.REGION_1||' '||HRL1.POSTAL_CODE),
RT.DELIVER_QTY,
RT.RETURN_QTY,
RT.RECEIPT_NO,
RT.RECEIPT_DATE,
RT.RECEIPT_QTY
UNION ALL
SELECT
PHA.ATTRIBUTE4 H_DIS,
PHA.ATTRIBUTE13 PROJECT,
PHA.TYPE_LOOKUP_CODE PO_TYPEEE,
(SELECT B.DESCRIPTION FROM FND_FLEX_VALUE_SETS A, FND_FLEX_VALUES_VL B WHERE  A.FLEX_VALUE_SET_ID = B.FLEX_VALUE_SET_ID AND A.FLEX_VALUE_SET_NAME = 'XX_PO_TYPE' AND B.FLEX_VALUE=PHA.ATTRIBUTE1) PO_TYPE,
PLA.LINE_NUM,
PHA.PO_HEADER_ID,
PLA.PO_LINE_ID,
PHA.ATTRIBUTE1||'/'||PHA.SEGMENT1 PO_NUM,
TO_CHAR (PHA.CREATION_DATE, 'DD-MON-RRRR') PO_CR_DT,
PHA.ATTRIBUTE2 CON_PERSON,
XX_GET_ACCT_FLEX_SEG_DESC (7, PHA.ATTRIBUTE14) PROJECT_NAME,
PHA.AUTHORIZATION_STATUS,
--PHA.ATTRIBUTE10 TERM_DAYS,
TO_CHAR (PHA.APPROVED_DATE, 'DD-MON-RRRR') PO_APP_DT,
PHA.CURRENCY_CODE,
PHA.RATE,
NULL DESTINITION,
POV.SEGMENT1 SUPPLIER_ID,
POV.VENDOR_NAME SUPPLIER_NAME,
ADDRESS_LINE1||' '||ADDRESS_LINE2||' '||PVS.CITY SUPPLIER_ADD,
PVS.CITY||'-'||PVS.ZIP CITY_ZIP,
PVS.PHONE SUPP_PHONE,
PVS.TELEX,
PVS.EMAIL_ADDRESS SUPP_EMAIL,
SUBSTR(XX_GET_HR_OPERATING_UNIT(:P_ORG_ID),5,200) ORG_HEADER_NAME,
HRL.ADDRESS_LINE_1||' '||HRL.ADDRESS_LINE_2||' '||HRL.ADDRESS_LINE_3||'  '||HRL.REGION_1||' '||HRL.POSTAL_CODE BCL_F_ADD,
HRL.TELEPHONE_NUMBER_1 PHP_F_PHONE,
HRL.TELEPHONE_NUMBER_2 PHP_F_FAX,
HRL.LOC_INFORMATION13 PHP_F_EMAIL,
MP.ORGANIZATION_ID INVENTORY_ORG,
MP.ORGANIZATION_CODE IO,
--(select organization_code from mtl_parameters where ORGANIZATION_ID=pll.ship_to_organization_id) IO,
TO_CHAR(NULL) LC_NO,
TO_NUMBER(NULL) RELEASE_NUM,
--to_char(pra.RELEASE_DATE, 'DD-MON-RRRR') rel_dt,
NULL,
PHA.REVISION_NUM,
HRL1.ADDRESS_LINE_1||' '||HRL1.ADDRESS_LINE_2||' '||HRL1.ADDRESS_LINE_3||'  '||HRL1.REGION_1||' '||HRL1.POSTAL_CODE BCL_BILL_ADD,
TO_CHAR (PLL.PROMISED_DATE, 'DD-MON-RRRR') PROMISED_DATE,
XX_P2P_PKG.XX_FND_REQUISITION_INFO(PLL.ATTRIBUTE1,:P_ORG_ID,PLL.ATTRIBUTE2,'RNUM'),
XX_P2P_PKG.XX_FND_CS_NO_INFO(PHA.PO_HEADER_ID,PHA.ORG_ID) CSS_NO,
TO_CHAR(XX_P2P_PKG.XX_FND_CS_DATE_INFO(PHA.PO_HEADER_ID,PHA.ORG_ID), 'DD-MON-RRRR') CSS_DATE,
MST.ITEM_CODE,
PHA.ATTRIBUTE4 DIS_AMT,
PHA.ATTRIBUTE5 DIS_PER,
PHA.ATTRIBUTE6 CONTACT_PERSON,
PLA.ATTRIBUTE1 BRAND,
PLA.ATTRIBUTE2 ORIGIN,
PLA.ATTRIBUTE3 SPECIFICATIONS ,
PLA.ITEM_DESCRIPTION,
MUOM.UOM_CODE,
SUM(PLL.QUANTITY) PO_QTY,
PLA.UNIT_PRICE,
NVL((NVL(PLA.ATTRIBUTE11,0)/100*PLA.UNIT_PRICE),0)+NVL(PLA.ATTRIBUTE5,0) DISCOUNT_PRICE,
SUM(PLL.QUANTITY)*PLA.UNIT_PRICE CF_NET_VALUE_SUM,
NVL(PHA.ATTRIBUTE10,0) CARRYING_COST,
(NVL((NVL(PLA.ATTRIBUTE11,0)/100*PLA.UNIT_PRICE),0)+NVL(PLA.ATTRIBUTE5,0))*SUM(PLL.QUANTITY) DISCOUNT_PRICE_SUM,
--PLA.UNIT_PRICE-(NVL(PLA.ATTRIBUTE11,0)/100*PLA.UNIT_PRICE)-NVL(PLA.ATTRIBUTE5,0) UNIT_PRICE,
PLA.ATTRIBUTE5 LINE_DIS,
XX_P2P_EMP_INFO.XX_P2P_GET_ONLY_EMPN(PHA.CREATION_DATE,PHA.AGENT_ID) CREATOR_DETAILS,
NVL(PHA1.SEGMENT1,'...............') QUOTE_NO,
NVL(PHA1.QUOTE_VENDOR_QUOTE_NUMBER,'...............') SUPPLIER_QUOTE,
NVL(TO_CHAR (PHA1.REPLY_DATE, 'DD-MON-RRRR'),'...............')  REPLY_DATE,
 '(For '||POV.VENDOR_NAME||')' SUPP_ALIAS,
NVL(PHA.ATTRIBUTE15,0) VAT,
RT.DELIVER_QTY,
PL.QUANTITY_REJECTED REJECTED_QTY,
--RT.REJECTED_QTY,
RT.RETURN_QTY,
RT.RECEIPT_NO,
RT.RECEIPT_DATE,
RT.RECEIPT_QTY,
TO_CHAR(:P_F_PO_DT,'DD-MON-RRRR') FROM_DATE,
TO_CHAR(:P_T_PO_DT,'DD-MON-RRRR') TO_DATEE
--  case  when PHA.ATTRIBUTE15 is null then  'VAT Included' else PHA.ATTRIBUTE15  end vat
  FROM PO_HEADERS_ALL PHA,
       PO_HEADERS_ALL PHA1,
       PO_LINES_ALL PLA,
       MTL_UNITS_OF_MEASURE_TL MUOM,
       PO_LINE_LOCATIONS_ALL PLL,
       AP_SUPPLIERS POV,
       AP_SUPPLIER_SITES_ALL PVS,
       HR_LOCATIONS_ALL HRL,
       HR_LOCATIONS_ALL HRL1, 
       (SELECT INVENTORY_ITEM_ID,
                        (SEGMENT1 || '-' || SEGMENT2 || '-' || SEGMENT3|| '-' || SEGMENT4
                        ) ITEM_CODE
                   FROM MTL_SYSTEM_ITEMS_B
                   GROUP BY INVENTORY_ITEM_ID,
                        (SEGMENT1 || '-' || SEGMENT2 || '-' || SEGMENT3|| '-' || SEGMENT4
                        )) MST,
                        MTL_PARAMETERS MP,
                   ( SELECT DISTINCT  WRT.ORGANIZATION_ID,WRT.PO_HEADER_ID,WRT.PO_LINE_ID,SUM(WRT.RECEIPT_QTY) RECEIPT_QTY,  SUM(WRT.ACCEPTED_QTY) ACCEPTED_QTY, 
                        (NVL(SUM( WRT.RETURN_QTY),0)+NVL(SUM(WRT.DLV_RETURN_QTY),0)) RETURN_QTY,(SUM(WRT.DELIVER_QTY)-NVL(SUM(WRT.DLV_RETURN_QTY),0)) DELIVER_QTY,WRT.RECEIPT_NO,TO_CHAR(WRT.RECEIPT_DATE, 'DD-MON-YYYY') RECEIPT_DATE--,LISTAGG(RECEIPT_NO,',') within group  (ORDER BY RECEIPT_NO) GRN_NO 
                        FROM INV_RCV_TRANSACTIONS_P2P_VW WRT
                        WHERE TRANSACTION_TYPE='RECEIVE'
                        GROUP BY WRT.PO_HEADER_ID,WRT.PO_LINE_ID,WRT.RECEIPT_NO, WRT.ORGANIZATION_ID,TO_CHAR(WRT.RECEIPT_DATE, 'DD-MON-YYYY')) RT,
                        PO_LINE_LOCATIONS PL
 WHERE PHA.PO_HEADER_ID = PLA.PO_HEADER_ID
   AND PHA.VENDOR_ID = POV.VENDOR_ID
   AND PHA.VENDOR_SITE_ID = PVS.VENDOR_SITE_ID
   AND POV.VENDOR_ID = PVS.VENDOR_ID
   AND PHA.TYPE_LOOKUP_CODE IN ('BLANKET')
   AND NVL (UPPER (PHA.AUTHORIZATION_STATUS), 'INCOMPLETE') = 'APPROVED'
   AND PHA.APPROVED_FLAG = 'Y'
   AND PLA.ITEM_ID = MST.INVENTORY_ITEM_ID
   AND HRL.LOCATION_ID = PLL.SHIP_TO_LOCATION_ID
   AND HRL1.LOCATION_ID = PHA.BILL_TO_LOCATION_ID 
   AND PHA1.PO_HEADER_ID(+) = PHA.FROM_HEADER_ID
   AND PLA.UNIT_MEAS_LOOKUP_CODE=MUOM.UNIT_OF_MEASURE(+)
   AND NVL(PHA.CANCEL_FLAG,'N')='N'
   AND NVL(PLA.CANCEL_FLAG,'N')='N'
   AND UPPER(PLL.SHIPMENT_TYPE)='PRICE BREAK'
     AND PLA.PO_HEADER_ID=RT.PO_HEADER_ID(+)
   AND PLA.PO_LINE_ID=RT.PO_LINE_ID(+)
      AND RT.ORGANIZATION_ID(+)=PLL.SHIP_TO_ORGANIZATION_ID
       AND PHA.PO_HEADER_ID=PL.PO_HEADER_ID(+)---
 AND PLA.PO_LINE_ID=PL.PO_LINE_ID(+)---
 AND RT.PO_HEADER_ID=PL.PO_HEADER_ID(+)---
 AND RT.PO_LINE_ID=PL.PO_LINE_ID(+)---
-- AND RT.LINE_LOCATION_ID=PL.LINE_LOCATION_ID---
    AND UPPER(NVL(PLA.ATTRIBUTE_CATEGORY,0)) NOT IN ('Branding')
 AND UPPER(NVL(PHA.ATTRIBUTE_CATEGORY,0)) NOT IN ('Branding_Info','Shipping_Info')
   AND PHA.ORG_ID = :P_ORG_ID
      AND PHA.PO_HEADER_ID BETWEEN NVL(:P_PO_NO, PHA.PO_HEADER_ID) AND NVL(:P_PO_TO, PHA.PO_HEADER_ID)
    AND NVL2(:P_PO_NO,PHA.PO_HEADER_ID,-1) BETWEEN NVL(:P_PO_NO,-1) AND NVL(:P_PO_TO,-1) 
    AND TRUNC(PHA.CREATION_DATE) BETWEEN NVL(:P_F_PO_DT,TRUNC(PHA.CREATION_DATE)) AND NVL(:P_T_PO_DT,TRUNC(PHA.CREATION_DATE))
       AND PLA.ITEM_ID=NVL(:P_ITEM_ID,PLA.ITEM_ID)
  AND PLA.PO_LINE_ID=PLL.PO_LINE_ID
   AND PHA.PO_HEADER_ID = :P_PO_NO
   --AND 1=nvl2(:p_release,900,1)
   AND MP.ORGANIZATION_ID=PLL.SHIP_TO_ORGANIZATION_ID
   AND :P_RELEASE IS NULL
   AND PHA.ATTRIBUTE1=NVL(:P_PO_TYPE,PHA.ATTRIBUTE1)
      AND  PLL.SHIP_TO_ORGANIZATION_ID=NVL(:P_INV_ORG,PLL.SHIP_TO_ORGANIZATION_ID)
GROUP BY
PHA.ATTRIBUTE4,
PHA.TYPE_LOOKUP_CODE, 
PLA.LINE_NUM,
PL.QUANTITY_REJECTED,
PHA.PO_HEADER_ID,
PHA.ATTRIBUTE1,
PHA.ATTRIBUTE1||'/'||PHA.SEGMENT1,
TO_CHAR (PHA.CREATION_DATE, 'DD-MON-RRRR'),
PHA.ATTRIBUTE2,
XX_GET_ACCT_FLEX_SEG_DESC (7, PHA.ATTRIBUTE14),
PHA.ATTRIBUTE4,
PHA.ATTRIBUTE3,
TO_CHAR (PHA.APPROVED_DATE, 'DD-MON-RRRR'),
PHA.CURRENCY_CODE,
PHA.RATE,
NVL(PHA.ATTRIBUTE10,0),
PHA.ATTRIBUTE12,
PHA.ATTRIBUTE11,
POV.SEGMENT1,
POV.VENDOR_NAME,
ADDRESS_LINE1||' '||ADDRESS_LINE2||' '||PVS.CITY,
PVS.CITY||'-'||PVS.ZIP,
PVS.PHONE,
PVS.TELEX,
MP.ORGANIZATION_ID ,
PVS.EMAIL_ADDRESS,
XX_GET_HR_OPERATING_UNIT(:P_ORG_ID) ,
HRL.ADDRESS_LINE_1||' '||HRL.ADDRESS_LINE_2||' '||HRL.ADDRESS_LINE_3||'  '||HRL.REGION_1||' '||HRL.POSTAL_CODE,
MP.ORGANIZATION_CODE,
HRL.TELEPHONE_NUMBER_1,
HRL.TELEPHONE_NUMBER_2,
HRL.LOC_INFORMATION13,
PHA.AUTHORIZATION_STATUS,
TO_CHAR(NULL),
PLA.PO_LINE_ID,
PLA.ATTRIBUTE5,
PLA.UNIT_PRICE,
NVL((NVL(PLA.ATTRIBUTE11,0)/100*PLA.UNIT_PRICE),0)+NVL(PLA.ATTRIBUTE5,0),
TO_CHAR(NULL),
TO_CHAR (PLL.PROMISED_DATE, 'DD-MON-RRRR'),
XX_P2P_PKG.XX_FND_REQUISITION_INFO(PLL.ATTRIBUTE1,:P_ORG_ID,PLL.ATTRIBUTE2,'RNUM'),
XX_P2P_PKG.XX_FND_CS_NO_INFO(PHA.PO_HEADER_ID,PHA.ORG_ID),
TO_CHAR(XX_P2P_PKG.XX_FND_CS_DATE_INFO(PHA.PO_HEADER_ID,PHA.ORG_ID), 'DD-MON-RRRR'),
MST.ITEM_CODE,
PHA.ATTRIBUTE4,
PHA.ATTRIBUTE5,
PHA.ATTRIBUTE6,
PLA.ATTRIBUTE1,
PLA.ATTRIBUTE2,
PLA.NOTE_TO_VENDOR ,
PLA.ITEM_DESCRIPTION,MUOM.UOM_CODE,
PLA.UNIT_PRICE-(NVL(PLA.ATTRIBUTE11,0)/100*PLA.UNIT_PRICE)-NVL(PLA.ATTRIBUTE5,0),
XX_P2P_EMP_INFO.XX_P2P_GET_ONLY_EMPN(PHA.CREATION_DATE,PHA.AGENT_ID) ,
NVL(PHA1.SEGMENT1,'...............'),
NVL(PHA1.QUOTE_VENDOR_QUOTE_NUMBER,'...............'),
NVL(TO_CHAR (PHA1.REPLY_DATE, 'DD-MON-RRRR'),'...............'),
 '(For '||POV.VENDOR_NAME||')', 
NVL(PHA.ATTRIBUTE15,0),
PHA.ATTRIBUTE13, 
--PHA.ATTRIBUTE15,
--to_char(pra.RELEASE_DATE, 'DD-MON-RRRR'),
NULL, 
PHA.REVISION_NUM,
PLA.ATTRIBUTE3,
(HRL1.ADDRESS_LINE_1||' '||HRL1.ADDRESS_LINE_2||' '||HRL1.ADDRESS_LINE_3||'  '||HRL1.REGION_1||' '||HRL1.POSTAL_CODE) ,
RT.DELIVER_QTY,
--RT.REJECTED_QTY,
RT.RETURN_QTY,
RT.RECEIPT_NO,
RT.RECEIPT_DATE,
RT.RECEIPT_QTY
ORDER BY RECEIPT_NO

--============================================
-- XXLOPR
-- EBS Purchase Requisition (Store) Report
-- Date: 18-NOV-2018
--===========================================

SELECT PRH.REQUISITION_HEADER_ID,
        PRH.SEGMENT1 REQUISITION_NUM, 
        NOTE_TO_AGENT,
        PRH.REQUISITION_HEADER_ID HEADER_ID,
        PRH.CREATION_DATE CR_DT, 
        PRL.LINE_NUM,
        PRH.DESCRIPTION PR_DESC, 
     -- NVL(XX_PO_FROM_REQ.GET_PO_FRM_REQ_DIST( :P_ORG_ID,prh.requisition_header_id,prl.line_num),
     -- XX_PO_FROM_REQ.GET_PO_FRM_REQ_SHIP( :P_ORG_ID,prh.requisition_header_id,prl.line_num)) PO_NAME,
       TO_CHAR(PRH.CREATION_DATE,'DD-MON-RRRR HH12:MI:SS PM') CREATION_DT,
       TO_CHAR(PRH.APPROVED_DATE,'DD-MON-RRRR HH12:MI:SS PM')  APPROVED_DATE,
       PRL.ATTRIBUTE1 BRAND, 
       PRL.ATTRIBUTE2 ORIGIN,
       PRL.ATTRIBUTE9 DEPARTMENT,
       PRH.ATTRIBUTE15 PRIORITY,
       PRL.REFERENCE_NUM MOVE_ORDER_NO,
      (SELECT MTRL.QUANTITY FROM MTL_TXN_REQUEST_LINES MTRL,MTL_TXN_REQUEST_HEADERS MTRH WHERE MTRH.HEADER_ID=MTRL.HEADER_ID AND MTRL.INVENTORY_ITEM_ID=PRL.ITEM_ID AND MTRH.REQUEST_NUMBER=PRL.REFERENCE_NUM ) MOVE_ORDER_QTY,
      (SELECT B.DESCRIPTION FROM FND_FLEX_VALUE_SETS A, FND_FLEX_VALUES_VL B WHERE  A.FLEX_VALUE_SET_ID = B.FLEX_VALUE_SET_ID AND A.FLEX_VALUE_SET_NAME = 'XX_PROJECT' AND B.FLEX_VALUE=PRH.ATTRIBUTE1) PROJECT_NAME,
       NVL(PRH.AUTHORIZATION_STATUS,'INCOMPLETE') REQ_STATUS,
       PRL.SUGGESTED_BUYER_ID,
       PRH.PREPARER_ID,
       PRL.TO_PERSON_ID,
       PPF.FULL_NAME,
       PRH.ATTRIBUTE1 BUDGET_NO,
       PRL.ITEM_ID,
       MST.ITEM_CODE,
       MST.DESCRIPTION,
       PRL.QUANTITY UNIT,
     XX_30_DAYS_CONSUM_FN(NVL(PRH.APPROVED_DATE,PRH.CREATION_DATE),PRL.ITEM_ID,DESTINATION_ORGANIZATION_ID) CONSUM_QTYYY,
      ( XX_INV_DEPTM_ISS_QTY(DESTINATION_ORGANIZATION_ID,PRL.ITEM_ID,ADD_MONTHS(PRH.CREATION_DATE,-1),PRH.CREATION_DATE,UPPER(XX_P2P_GET_DEPT_INFO(PRL.TO_PERSON_ID)))) CONSUM_QTY,
       XX_PEND_REQ_QTY_FN(PRL.PO_LINE_ID) PENDING_QTY,
       XX_LAST_PO_INFO_FN(4,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPO,
       XX_LAST_PO_INFO_FN(1,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPD,
        XX_LAST_PO_INFO_FN(2,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPR,
         XX_LAST_PO_INFO_FN(3,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LP_SUPP,
       MUOM.UOM_CODE UOM,
       HRL1.LOCATION_CODE,
       TO_CHAR(TRUNC(PRL.NEED_BY_DATE),'DD-MON-RRRR') NEED_BY_DATE,
       PAAF.JOB_ID,
       PJ.NAME,
       PJ.JOB_DEFINITION_ID,
      -- pjd.segment1 department,
     --  (SELECT USE_AREA FROM XXKSRM_INV_USE_AREA_V IUA WHERE IUA.USE_AREA_ID=prL.ATTRIBUTE3 ) Use_of_Area,--use_area_type='XXKSRM_USE_AREA') Use_of_Area,
       PRL.NOTE_TO_RECEIVER,
       PRL.DESTINATION_ORGANIZATION_ID,
       HRO.ORGANIZATION_CODE ORG_CODE,
       PRH.TYPE_LOOKUP_CODE REQ_TYPE,
       SUBSTR(XX_GET_HR_OPERATING_UNIT(:P_ORG_ID),5) ORG_HEADER_NAME,
      -- XX_com_pkg.get_hr_operating_unit(:p_org_id) Org_header_name,
      -- XX_COM_PKG.GET_UNIT_address(:p_org_id) org_header_address,
       PRL.DESTINATION_SUBINVENTORY WAREHOUSE,
       --xx_inv_org_name_fn(prl.destination_organization_id) dest_loc,
        --xx_inv_org_name_fn(prl.source_organization_id) source_loc,
--        substr(GET_ORGANIZATION_NAME(prl.org_id),5) REQ_ORG_NAME,
--    GET_UNIT_ADDRESS(prl.org_id) REQ_ORG_ADDRESS,
    (SELECT NAME FROM HR_ALL_ORGANIZATION_UNITS WHERE ORGANIZATION_ID=PRL.DESTINATION_ORGANIZATION_ID)||' - '||HRO.ORGANIZATION_CODE DEST_ORG_NAME   ,    
          (SELECT LOCATION_CODE FROM HR_LOCATIONS_ALL WHERE LOCATION_ID=PRL.DELIVER_TO_LOCATION_ID) DEST_LOCATION,
    TO_CHAR (TRUNC (PRH.APPROVED_DATE),'DD-MON-RRRR') APPROVED_DATE,
       NVL(PRL.CANCEL_FLAG,'N') CANCEL_FLAG, 
       DECODE(PRL.CLOSED_CODE,NULL,'N','Y') CLOSED_FLAG,
       HRL.DESCRIPTION LOC,
       PRL.JUSTIFICATION ,
       PRH.ATTRIBUTE_CATEGORY
  FROM PO_REQUISITION_HEADERS_ALL PRH,
       PO_REQUISITION_LINES_ALL PRL,
       MTL_UNITS_OF_MEASURE_TL MUOM,
       PER_PEOPLE_F PPF,
       PER_ALL_ASSIGNMENTS_F PAAF,
       PAY_PEOPLE_GROUPS PPG,
       PER_JOBS PJ,
       PER_JOB_DEFINITIONS PJD,
              PER_ALL_POSITIONS PP,
       PER_POSITION_DEFINITIONS PD,
       ORG_ORGANIZATION_DEFINITIONS HRO,
       HR_LOCATIONS_ALL HRL,
      HR_LOCATIONS_ALL HRL1,
       (SELECT ORGANIZATION_ID,INVENTORY_ITEM_ID, DESCRIPTION,
                        (SEGMENT1 || '|' || SEGMENT2 || '|' || SEGMENT3|| '|' || SEGMENT4
                        ) ITEM_CODE
                   FROM MTL_SYSTEM_ITEMS_B) MST,
        HR_OPERATING_UNITS HOU           
 WHERE PRH.REQUISITION_HEADER_ID = PRL.REQUISITION_HEADER_ID
   AND SYSDATE BETWEEN PAAF.EFFECTIVE_START_DATE AND PAAF.EFFECTIVE_END_DATE
   AND SYSDATE BETWEEN PPF.EFFECTIVE_START_DATE AND PPF.EFFECTIVE_END_DATE
   AND PRH.PREPARER_ID = PPF.PERSON_ID
   AND PRH.PREPARER_ID = PAAF.PERSON_ID
  AND HRL.LOCATION_ID=DELIVER_TO_LOCATION_ID
  AND HRL1.LOCATION_ID=PAAF.LOCATION_ID
   AND PPF.PERSON_ID = PAAF.PERSON_ID
   AND PAAF.JOB_ID(+) = PJ.JOB_ID
   AND PPG.PEOPLE_GROUP_ID(+) = PAAF.PEOPLE_GROUP_ID
   AND PJ.JOB_DEFINITION_ID(+) = PJD.JOB_DEFINITION_ID
   AND PP.POSITION_ID=PAAF.POSITION_ID
   AND PP.POSITION_DEFINITION_ID=PD.POSITION_DEFINITION_ID
 --  AND NVL(PRL.MODIFIED_BY_AGENT_FLAG,'N')<>'Y'
  AND PRL.UNIT_MEAS_LOOKUP_CODE=MUOM.UNIT_OF_MEASURE(+)
  AND HRO.OPERATING_UNIT=HOU.ORGANIZATION_ID 
   AND PRL.ITEM_ID = MST.INVENTORY_ITEM_ID
   AND PRL.DESTINATION_ORGANIZATION_ID=MST.ORGANIZATION_ID  
      AND PRL.DESTINATION_ORGANIZATION_ID=HRO.ORGANIZATION_ID
      AND NVL(PRL.CANCEL_FLAG,'N')= ('N')
 AND PRH.ORG_ID = NVL(:P_ORG_ID,PRH.ORG_ID)
 AND PRL.DESTINATION_ORGANIZATION_ID=NVL(:P_INV_ORG,PRL.DESTINATION_ORGANIZATION_ID)
 AND NVL2(:P_REQ_NO,PRH.REQUISITION_HEADER_ID,-1) BETWEEN NVL(:P_REQ_NO,-1) AND NVL(:P_REQ_NO_T,-1) 
  AND NVL(PD.SEGMENT3,'x')=NVL(:P_DEPT,NVL(PD.SEGMENT3,'x'))
  AND PRH.TYPE_LOOKUP_CODE=NVL(:P_TYPE,PRH.TYPE_LOOKUP_CODE) 
   AND PRH.AUTHORIZATION_STATUS= NVL(:P_STATUS,PRH.AUTHORIZATION_STATUS)
   --AND  prh.attribute15 = NVL(:P_PEIORITY,  prh.attribute15)
 AND PRH.TYPE_LOOKUP_CODE='PURCHASE'
 AND NVL(PRH.ATTRIBUTE_CATEGORY,0) NOT IN ('Planned Requisition')
  AND NVL(UPPER(PRH.ATTRIBUTE_CATEGORY),0) NOT IN ('SHIPPING INFORMATION')
   AND NVL(UPPER(PRL.ATTRIBUTE_CATEGORY),0) NOT IN ('BRANDING')
  AND PRL.MODIFIED_BY_AGENT_FLAG IS  NULL               
ORDER BY MST.DESCRIPTION    
 --PRL.REQUISITION_LINE_ID


--===========================================================================
--XXINVALLSTOCK     XXKSRM Item Stock All
-- DATE 25-11-2018 Parameter" P_Organization_id = 121,  p_type = STORE & SPARES , P_GROUP = MECHANICAL
--==========================================================================

SELECT
DISTINCT 
WXMD.ORGANIZATION_ID
,WXMD.ORGANIZATION_CODE
,WXMD.ORGANIZATION_CODE||'-'||WXMD.ORGANIZATION_NAME ORGANIZATION_NAME
,NVL((SELECT OPERATING_UNIT_ADDRESS FROM WBI_INV_ORG_DETAIL WHERE INV_ORGANIZATION_ID= :P_ORGANIZATION_ID),'Kabir Manzil,SK, Mujib Road,Agrabad,Chittagong,BD') ORGANIZATION_ADDRESS
,NVL((SELECT DISTINCT OPERATING_UNIT_NAME FROM WBI_INV_ORG_DETAIL WHERE INV_ORGANIZATION_ID=:P_ORGANIZATION_ID),'KABIR GROUP') ORG_NAME
,WXMD.INVENTORY_ITEM_ID
,WXMD.ITEM_TYPE
,WXMD.ITEM_GROUP
,WXMD.ITEM_SUB_GROUP
,WXMD.ITEM_CODE
,WXMD.ITEM_DESC
,WXMD.UOM1 UOM
, :P_TRANSACTION_DATE_FROM DATE_FROM 
, :P_TRANSACTION_DATE_TO DATE_TO
, WXMD.FINANCE_CATEGORY FINANCE_CATEGORY
,XX_INV_PKG.XX_INV_OPEN_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM) OPENING_STOCK_NEW
,XX_INV_PKG.XX_INV_RECV_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM,:P_TRANSACTION_DATE_TO) RECEIVED_QTY_NEW
,XX_INV_PKG.XX_INV_ISSU_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM,:P_TRANSACTION_DATE_TO) ISSUED_QTY_NEW
---------------------------------
,(XX_INV_PKG.XX_INV_OPEN_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM) 
+XX_INV_PKG.XX_INV_RECV_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM,:P_TRANSACTION_DATE_TO) 
-XX_INV_PKG.XX_INV_ISSU_QTY(WXMD.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, WXMD.INVENTORY_ITEM_ID,:P_TRANSACTION_DATE_FROM,:P_TRANSACTION_DATE_TO) ) CLOSING_STOCK
-------------------------------------
,(SELECT NVL(MIN_MINMAX_QUANTITY,0) FROM MTL_SYSTEM_ITEMS_B WHERE ORGANIZATION_ID=WXMD.ORGANIZATION_ID AND INVENTORY_ITEM_ID=WXMD.INVENTORY_ITEM_ID) SAFETY_STOCK
,MMT.SUBINVENTORY_CODE
--,XX_INV_PKG.XX_INV_ITEM_LOCATOR(MMT.ORGANIZATION_ID,MMT.SUBINVENTORY_CODE, MMT.INVENTORY_ITEM_ID ) LOCATOR_INFO
----==============================================================
,XX_INV_PKG.XXGET_ENAME (TO_CHAR (:P_USER)) USER_NAME
---===============================================================
FROM 
WBI_XXKBGITEM_MT_D WXMD, 
MTL_MATERIAL_TRANSACTIONS MMT
WHERE WXMD.ORGANIZATION_ID=MMT.ORGANIZATION_ID(+)
AND WXMD.INVENTORY_ITEM_ID=MMT.INVENTORY_ITEM_ID(+)
----AND TO_DATE(MMT.TRANSACTION_DATE) BETWEEN TO_DATE(:P_TRANSACTION_DATE_FROM) AND TO_DATE(:P_TRANSACTION_DATE_TO)
AND WXMD.ORGANIZATION_ID=:P_ORGANIZATION_ID
AND WXMD.ITEM_CODE=NVL(:P_ITEM_CODE,WXMD.ITEM_CODE)
AND WXMD.ITEM_TYPE=NVL(:P_ITEM_TYPE,WXMD.ITEM_TYPE)
AND WXMD.ITEM_GROUP=NVL(:P_ITEM_GROUP,WXMD.ITEM_GROUP)
AND WXMD.ITEM_SUB_GROUP=NVL(:P_ITEM_SUB_GROUP,WXMD.ITEM_SUB_GROUP)
AND NVL(WXMD.FINANCE_CATEGORY,'XXXX')=NVL(:P_FINANCE_CATEGORY,NVL(WXMD.FINANCE_CATEGORY,'XXXX'))
AND NVL(MMT.SUBINVENTORY_CODE,'XX')=NVL(:P_SUBINVENTORY_CODE,NVL(MMT.SUBINVENTORY_CODE,'XX'))

--========================================================
--PENDING PR REPORT
-- 1-DEC-2018   PAranmeter:  P _org  = 81
--========================================================

SELECT PRH.REQUISITION_HEADER_ID,
        PHA.PO_HEADER_ID,
        PRH.SEGMENT1 REQUISITION_NUM, 
        NOTE_TO_AGENT,
        PRH.REQUISITION_HEADER_ID HEADER_ID,
        SUBSTR(XX_GET_HR_OPERATING_UNIT(:P_ORG_ID),5) ORG_HEADER_NAME,
        PRH.CREATION_DATE CR_DT, 
        PRL.LINE_NUM,
        PRH.DESCRIPTION PR_DESC, 
        (SELECT USE_AREA FROM XXKSRM_INV_USE_AREA_V IUA WHERE IUA.USE_AREA_ID=PRL.ATTRIBUTE3 AND IUA.USE_AREA_TYPE='XXKSRM_USE_AREA') USE_OF_AREA,
        PHA.SEGMENT1 PO_NO,
       TO_CHAR(PRH.CREATION_DATE,'DD-MON-RRRR HH12:MI:SS PM') CREATION_DT,
       TO_CHAR(PRH.APPROVED_DATE,'DD-MON-RRRR')  APPROVED_DATE,
       PRL.ATTRIBUTE1 BRAND, 
       PRL.ATTRIBUTE2 ORIGIN,
       PRH.ATTRIBUTE15 PRIORITY,
       PRL.REFERENCE_NUM MOVE_ORDER_NO,
      (SELECT MTRL.QUANTITY FROM MTL_TXN_REQUEST_LINES MTRL,MTL_TXN_REQUEST_HEADERS MTRH WHERE MTRH.HEADER_ID=MTRL.HEADER_ID AND MTRL.INVENTORY_ITEM_ID=PRL.ITEM_ID AND MTRH.REQUEST_NUMBER=PRL.REFERENCE_NUM ) MOVE_ORDER_QTY,
      (SELECT DESCRIPTION||' ('||FLEX_VALUE||')' FROM FND_FLEX_VALUES_VL WHERE     FLEX_VALUE_SET_ID =1016512 AND PRH.ATTRIBUTE1=FND_FLEX_VALUES_VL.FLEX_VALUE) PROJECT_NAME,
       NVL(PRH.AUTHORIZATION_STATUS,'INCOMPLETE') REQ_STATUS,
       PRL.SUGGESTED_BUYER_ID,
       PRH.PREPARER_ID,
       PRL.TO_PERSON_ID,
       PPF.FULL_NAME,
       PRH.ATTRIBUTE1 BUDGET_NO,
       PRL.ITEM_ID, 
       MST.ITEM_CODE,
       MST.DESCRIPTION,
       NVL(PRL.QUANTITY,0) PR_QTY,
       PLL.LINE_LOCATION_ID,
       PLL.QUANTITY_RECEIVED RECEIVED_QTY_PLL,
       RT.RECEIPT_QTY RECEIVED_QTY,
        RT.RECEIPT_QTY1 RECEIVED_QTY1,
      PLL.QUANTITY_REJECTED QUANTITY_REJECTED ,
      RT.DELIVER_QTY QUANTITY_DELIVERED,
       XX_30_DAYS_CONSUM_FN(NVL(PRH.APPROVED_DATE,PRH.CREATION_DATE),PRL.ITEM_ID,PRL.DESTINATION_ORGANIZATION_ID) CONSUM_QTY,
       XX_PEND_REQ_QTY_FN(PRL.PO_LINE_ID) PENDING_QTY,
       RT.RETURN_QTY RETURN_QTY,
       XX_LAST_PO_INFO_FN(4,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPO,
       XX_LAST_PO_INFO_FN(1,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPD,
        XX_LAST_PO_INFO_FN(2,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LPR,
         XX_LAST_PO_INFO_FN(3,PRL.ITEM_ID,PRH.ORG_ID,PRH.CREATION_DATE) LP_SUPP,
       MUOM.UOM_CODE UOM,
       HRL1.LOCATION_CODE,
       TO_CHAR(TRUNC(PRL.NEED_BY_DATE),'DD-MON-RRRR') NEED_BY_DATE,
      PAAF.JOB_ID,
       PJ.NAME,
      PJ.JOB_DEFINITION_ID,
       PRL.NOTE_TO_RECEIVER,
       PRL.DESTINATION_ORGANIZATION_ID,
       HRO.ORGANIZATION_CODE ORG_CODE,
       PRH.TYPE_LOOKUP_CODE REQ_TYPE,
       PRL.DESTINATION_SUBINVENTORY WAREHOUSE,
    (SELECT NAME FROM HR_ALL_ORGANIZATION_UNITS WHERE ORGANIZATION_ID=PRL.DESTINATION_ORGANIZATION_ID)||' - '||HRO.ORGANIZATION_CODE DEST_ORG_NAME   ,    
          (SELECT LOCATION_CODE FROM HR_LOCATIONS_ALL WHERE LOCATION_ID=PRL.DELIVER_TO_LOCATION_ID) DEST_LOCATION,
    TO_CHAR (TRUNC (PRH.APPROVED_DATE),'DD-MON-RRRR') APPROVED_DATE,
       NVL(PRL.CANCEL_FLAG,'N') CANCEL_FLAG, 
       DECODE(PRL.CLOSED_CODE,NULL,'N','Y') CLOSED_FLAG,
       HRL.DESCRIPTION LOC,
       PRL.JUSTIFICATION,
                     TO_CHAR(:P_F_PR_DT,'DD-MON-RRRR') FROM_DATE,
       TO_CHAR(:P_T_PR_DT,'DD-MON-RRRR') TO_DATEE
         FROM PO_REQUISITION_HEADERS_ALL PRH
  LEFT OUTER JOIN PO_REQUISITION_LINES_ALL PRL
  ON PRH.REQUISITION_HEADER_ID=PRL.REQUISITION_HEADER_ID
  AND PRL.MODIFIED_BY_AGENT_FLAG IS NULL
  LEFT OUTER JOIN PO_REQ_DISTRIBUTIONS_ALL PRDA
  ON PRL.REQUISITION_LINE_ID=PRDA.REQUISITION_LINE_ID
 LEFT OUTER JOIN (SELECT PDA.PO_DISTRIBUTION_ID,PDA.LINE_LOCATION_ID,PDA.PO_HEADER_ID,PDA.PO_LINE_ID,PDA.REQ_DISTRIBUTION_ID,PDA.REQ_HEADER_REFERENCE_NUM,PDA.REQ_LINE_REFERENCE_NUM,PLLA.ATTRIBUTE1,PLLA.ATTRIBUTE2 
               FROM PO_DISTRIBUTIONS_ALL PDA,PO_LINE_LOCATIONS_ALL PLLA
               WHERE PDA.LINE_LOCATION_ID=PLLA.LINE_LOCATION_ID) PDA
  ON PRH.REQUISITION_HEADER_ID=PDA.ATTRIBUTE1
  AND PRL.LINE_NUM=PDA.ATTRIBUTE2
  OR PRDA.DISTRIBUTION_ID=PDA.REQ_DISTRIBUTION_ID
  LEFT OUTER JOIN PO_HEADERS_ALL PHA
  ON PDA.PO_HEADER_ID=PHA.PO_HEADER_ID
 -- and PRH.AUTHORIZATION_STATUS= 'APPROVED'
  LEFT OUTER JOIN PO_LINES_ALL PLA
  ON PDA.PO_LINE_ID=PLA.PO_LINE_ID
  AND NVL(PRL.MODIFIED_BY_AGENT_FLAG,'N')<>'Y'
  LEFT OUTER JOIN PER_PEOPLE_F PPF
  ON PRL.TO_PERSON_ID = PPF.PERSON_ID
  AND SYSDATE BETWEEN PPF.EFFECTIVE_START_DATE AND PPF.EFFECTIVE_END_DATE
  LEFT OUTER JOIN PER_ALL_ASSIGNMENTS_F PAAF
  ON PRL.TO_PERSON_ID = PAAF.PERSON_ID
  AND PPF.PERSON_ID = PAAF.PERSON_ID
  AND SYSDATE BETWEEN PAAF.EFFECTIVE_START_DATE AND PAAF.EFFECTIVE_END_DATE
  LEFT OUTER JOIN MTL_UNITS_OF_MEASURE_TL MUOM
  ON PRL.UNIT_MEAS_LOOKUP_CODE=MUOM.UNIT_OF_MEASURE
  LEFT OUTER JOIN PER_JOBS PJ
  ON PAAF.JOB_ID = PJ.JOB_ID
  LEFT OUTER JOIN PER_JOB_DEFINITIONS PJD
  ON PJ.JOB_DEFINITION_ID = PJD.JOB_DEFINITION_ID
  LEFT OUTER JOIN ORG_ORGANIZATION_DEFINITIONS HRO
  ON PRL.DESTINATION_ORGANIZATION_ID=HRO.ORGANIZATION_ID
  LEFT OUTER JOIN HR_LOCATIONS_ALL HRL
  ON PRL.DELIVER_TO_LOCATION_ID=HRL.LOCATION_ID
  LEFT OUTER JOIN HR_LOCATIONS_ALL HRL1
  ON PAAF.LOCATION_ID=HRL1.LOCATION_ID
  LEFT OUTER JOIN (SELECT ORGANIZATION_ID,INVENTORY_ITEM_ID, DESCRIPTION,
                        (SEGMENT1 || '|' || SEGMENT2 || '|' || SEGMENT3|| '|' || SEGMENT4
                        ) ITEM_CODE
                   FROM MTL_SYSTEM_ITEMS_B) MST
  ON PRL.ITEM_ID = MST.INVENTORY_ITEM_ID
  AND PRL.DESTINATION_ORGANIZATION_ID=MST.ORGANIZATION_ID  
  LEFT OUTER JOIN HR_OPERATING_UNITS HOU
  ON HRO.OPERATING_UNIT=HOU.ORGANIZATION_ID
  LEFT OUTER JOIN ( SELECT DISTINCT  PO_HEADER_ID,PO_LINE_ID,SUM(RECEIPT_QTY)-(NVL(SUM( RETURN_QTY),0)+NVL(SUM(DLV_RETURN_QTY),0)) RECEIPT_QTY,SUM(RECEIPT_QTY) RECEIPT_QTY1,  SUM(ACCEPTED_QTY) ACCEPTED_QTY, SUM(REJECTED_QTY) REJECTED_QTY,(NVL(SUM( RETURN_QTY),0)+NVL(SUM(DLV_RETURN_QTY),0)) RETURN_QTY,
                         (SUM(DELIVER_QTY)-NVL(SUM(DLV_RETURN_QTY),0)) DELIVER_QTY,LINE_LOCATION_ID
                        FROM INV_RCV_TRANSACTIONS_P2P_VW 
                        WHERE TRANSACTION_TYPE='RECEIVE'
                        GROUP BY PO_HEADER_ID,PO_LINE_ID,LINE_LOCATION_ID) RT
  ON PHA.PO_HEADER_ID=RT.PO_HEADER_ID
  AND PLA.PO_LINE_ID=RT.PO_LINE_ID
  AND PDA.LINE_LOCATION_ID=RT.LINE_LOCATION_ID
 -- and pha.po_header_id IS NOT NULL
 LEFT OUTER JOIN PO_LINE_LOCATIONS PLL
 ON PHA.PO_HEADER_ID=PLL.PO_HEADER_ID
 AND PLA.PO_LINE_ID=PLL.PO_LINE_ID
 AND RT.PO_HEADER_ID=PLL.PO_HEADER_ID
 AND RT.PO_LINE_ID=PLL.PO_LINE_ID
 AND RT.LINE_LOCATION_ID=PLL.LINE_LOCATION_ID
 AND PDA.LINE_LOCATION_ID=PLL.LINE_LOCATION_ID
 LEFT OUTER JOIN PAY_PEOPLE_GROUPS PPG
 ON PAAF.PEOPLE_GROUP_ID=PPG.PEOPLE_GROUP_ID
 LEFT OUTER JOIN PER_ALL_POSITIONS PP
 ON PAAF.POSITION_ID=PP.POSITION_ID
 LEFT OUTER JOIN  PER_POSITION_DEFINITIONS PD
 ON PP.POSITION_DEFINITION_ID=PD.POSITION_DEFINITION_ID
WHERE UPPER(NVL(PRL.ATTRIBUTE_CATEGORY,0)) NOT IN ('BRANDING')
AND UPPER(NVL(PRH.ATTRIBUTE_CATEGORY,0)) NOT IN ('SHIPPING_INFO')
AND NVL(PRL.CANCEL_FLAG,'N')= ('N')
AND TRUNC(PRH.CREATION_DATE) BETWEEN NVL(:P_F_PR_DT,TRUNC(PRH.CREATION_DATE)) AND NVL(:P_T_PR_DT,TRUNC(PRH.CREATION_DATE))
-- AND NVL2(:P_REQ_NO,prh.requisition_header_id,-1) between NVL(:P_REQ_NO,-1) and NVL(:P_REQ_NO_T,-1)
AND PRH.REQUISITION_HEADER_ID=NVL(:P_REQ_NO,PRH.REQUISITION_HEADER_ID)
--AND NVL2(:P_REQ_NO,prh.requisition_header_id,-1) between NVL(:P_REQ_NO,-1) and NVL(:P_REQ_NO_T,-1) 
AND PRH.ORG_ID = NVL(:P_ORG_ID,PRH.ORG_ID)
AND NVL(PD.SEGMENT3,'x')=NVL(:P_DEPT,NVL(PD.SEGMENT3,'x'))
AND PRL.DESTINATION_ORGANIZATION_ID=NVL(:P_INV_ORG, PRL.DESTINATION_ORGANIZATION_ID)
AND NVL(PRH.ATTRIBUTE_CATEGORY,0) NOT IN ('Planned Requisition')
AND PRH.TYPE_LOOKUP_CODE='PURCHASE' 
AND PRH.AUTHORIZATION_STATUS =NVL(:P_STATUS,PRH.AUTHORIZATION_STATUS)
AND PRH.AUTHORIZATION_STATUS='APPROVED'
AND  UPPER(PRH.ATTRIBUTE15) =UPPER( NVL(:P_PRIORITY,  PRH.ATTRIBUTE15))
AND PRL.ITEM_ID=NVL(:P_ITEM_ID,PRL.ITEM_ID)
 --AND (SELECT USE_AREA FROM XXKSRM_INV_USE_AREA_V IUA WHERE IUA.USE_AREA_ID=prL.ATTRIBUTE3)-- and use_area_type='XXKSRM_USE_AREA') 
-- =NVL(:P_USE_OF_AREA, (SELECT USE_AREA FROM XXKSRM_INV_USE_AREA_V IUA WHERE IUA.USE_AREA_ID=prL.ATTRIBUTE3))-- and use_area_type='XXKSRM_USE_AREA'))

--=========================================================================
--AKG PO GRN REPORT 
 --OU:81 , ORG_ID  :121 RUN AS PARAMETER
--==============================================================================

SELECT RSH.SHIPMENT_HEADER_ID,:P_ORG_ID,
        RSL.SHIPMENT_LINE_ID, POH.TYPE_LOOKUP_CODE PO_TYPE, SUP.VENDOR_NAME,:P_OU_ID,
       RSH.SHIPMENT_HEADER_ID SHIPMENT_HEADER_ID2, 
        SUP.SEGMENT1||'('||SUP.VENDOR_TYPE_LOOKUP_CODE||')' SUPP_NO, SUS.VENDOR_SITE_CODE,
       RSH.RECEIPT_NUM GRN_NO,RSH.COMMENTS REMARKS,
       MAX(TO_CHAR (TRUNC (RD.TRANSACTION_DATE), 'DD-MON-RR')) STORE_RCV_DT,
       TO_CHAR (TRUNC (RSH.CREATION_DATE), 'DD-MON-RR') GRN_CR_DT,
       NVL(RSH.SHIPMENT_NUM,RSH.BILL_OF_LADING) CHALLAN_NO,
       TO_CHAR (TRUNC (RSH.SHIPPED_DATE), 'DD-MON-RR') CHALLAN_DT,
       POH.SEGMENT1 PO_NO,POH.PO_HEADER_ID, POR.RELEASE_NUM,
       TO_CHAR (TRUNC (POR.RELEASE_DATE), 'DD-MON-RR') RELEASE_DATE,
       TO_CHAR (TRUNC (POH.CREATION_DATE), 'DD-MON-RR') PO_DT,
       TO_CHAR (TRUNC (RT.TRANSACTION_DATE), 'DD-MON-RR') RCV_DT,
       POL.ATTRIBUTE1 PROJECT_USE, POL.ATTRIBUTE2 BRAND,
       POL.ATTRIBUTE3 ORIGIN, POL.ATTRIBUTE8 VEHICLE, POH1.SEGMENT1 QUOTE_NO, OOD.ORGANIZATION_CODE,
       OOD.ORGANIZATION_NAME, RSL.TO_ORGANIZATION_ID,RD.SUBINVENTORY TO_SUBINVENTORY ,
       AI.INVOICE_NUM, TO_CHAR (AI.INVOICE_DATE, 'DD-MON-RR') INVOICE_DATE,AI.INVOICE_ID,
       MTL.INVENTORY_ITEM_ID,MTL.SEGMENT1 || '.' || MTL.SEGMENT2 || '.' || MTL.SEGMENT3  ITEM_CODE,
       RSL.ITEM_DESCRIPTION ITEM_DESC, MUOM.UOM_CODE UOM,
       SUM(RT.QUANTITY) RCV_QTY ,
       SUM(RT.QUANTITY)+SUM(XX_P2P_PKG.XX_P2P_RCV_CORRECTION(RT.SHIPMENT_HEADER_ID,RT.SHIPMENT_LINE_ID,'RECEIVE','MATCH')) PHY_QTY,   
--       sum(rd.quantity) +sum(XXAKG_P2P_PKG.XXAKG_P2P_RCV_CORRECTION(rD.shipment_header_id,rD.shipment_line_id,'DELIVER','DELIVER')) del_qty,  
       SUM(RD.QUANTITY) DEL_QTY,     
       NVL((RD.PO_UNIT_PRICE * RD.CURRENCY_CONVERSION_RATE),0) DEL_RATE,     
       --SUM((rd.quantity*(rd.po_unit_price * rd.currency_conversion_rate))+(XXAKG_P2P_PKG.XXAKG_P2P_RCV_CORRECTION
       --(rt.shipment_header_id,rt.shipment_header_id,'DELIVER','DELIVER')*(rd.po_unit_price * rd.currency_conversion_rate))) del_amt,
       --sum(NVL(  (rt.po_unit_price * rt.currency_conversion_rate),0)) rcv_RATE,
       --sum(NVL( (rt.quantity * (rt.po_unit_price * rt.currency_conversion_rate)),0)) rcv_amt,
       DECODE (PDA.REQ_HEADER_REFERENCE_NUM,
               NULL, XX_P2P_PKG.XX_FND_REQUISITION_INFO(PLL.ATTRIBUTE1,:P_OU_ID,PLL.ATTRIBUTE2,'RNUM'),
               'PR-'||PDA.REQ_HEADER_REFERENCE_NUM
              ) REQUISITION_NO,
       DECODE(XX_P2P_PKG.XX_FND_REQUISITION_DT_INFO(PDA.REQUISITION_HEADER_ID,:P_OU_ID),NULL,
        XX_P2P_PKG.XX_FND_REQUISITION_DT_INFO(PLL.ATTRIBUTE1,:P_OU_ID),
        XX_P2P_PKG.XX_FND_REQUISITION_DT_INFO(PDA.REQUISITION_HEADER_ID,:P_OU_ID)) PR_DT
  FROM RCV_SHIPMENT_HEADERS RSH,
       RCV_SHIPMENT_LINES RSL,
       AP_SUPPLIERS SUP,
       AP_SUPPLIER_SITES_ALL SUS,
       PO_HEADERS_ALL POH,
       PO_HEADERS_ALL POH1,
       PO_LINES_ALL POL,
       PO_RELEASES_ALL POR,
       ORG_ORGANIZATION_DEFINITIONS OOD,
       AP_INVOICE_LINES_ALL AIL,
       AP_INVOICES_ALL AI,
       RCV_TRANSACTIONS RT,
        (SELECT R.SHIPMENT_LINE_ID, R.SHIPMENT_HEADER_ID, MAX(R.TRANSACTION_DATE) TRANSACTION_DATE,
               PO_UNIT_PRICE, CURRENCY_CONVERSION_RATE, SUM(RD1.QUANTITY) QUANTITY,SUBINVENTORY
          FROM RCV_TRANSACTIONS R,( SELECT TRANSACTION_ID,SUM(QUANTITY) QUANTITY FROM
                                        (SELECT RCV.TRANSACTION_ID TRANSACTION_ID,SUM(RCV.QUANTITY) QUANTITY FROM RCV_TRANSACTIONS RCV 
                                            WHERE RCV.TRANSACTION_TYPE='DELIVER' 
                                            GROUP BY RCV.TRANSACTION_ID    
                                            UNION ALL
                                            SELECT R1.PARENT_TRANSACTION_ID TRANSACTION_ID,SUM(R1.QUANTITY) FROM RCV_TRANSACTIONS R1,RCV_TRANSACTIONS R2
                                             WHERE R1.PARENT_TRANSACTION_ID=R2.TRANSACTION_ID
                                              AND R1.SHIPMENT_HEADER_ID=R2.SHIPMENT_HEADER_ID
                                              AND R1.SHIPMENT_LINE_ID=R2.SHIPMENT_LINE_ID
                                              AND R1.TRANSACTION_TYPE ='CORRECT'
                                              AND R2.TRANSACTION_TYPE='DELIVER'
                                              GROUP BY R1.PARENT_TRANSACTION_ID)
                                              GROUP BY TRANSACTION_ID HAVING SUM(QUANTITY)>0) RD1 
         WHERE TRANSACTION_TYPE = 'DELIVER' 
          AND R.TRANSACTION_ID=RD1.TRANSACTION_ID 
         GROUP BY R.SHIPMENT_LINE_ID, R.SHIPMENT_HEADER_ID,
         PO_UNIT_PRICE, CURRENCY_CONVERSION_RATE,SUBINVENTORY) RD,
         (SELECT TRANSACTION_ID,SUM(QUANTITY) QUANTITY FROM
                                        (SELECT RCV.TRANSACTION_ID TRANSACTION_ID,SUM(RCV.QUANTITY) QUANTITY FROM RCV_TRANSACTIONS RCV 
                                            WHERE RCV.TRANSACTION_TYPE IN ('RECEIVE', 'MATCH')
                                            GROUP BY RCV.TRANSACTION_ID    
                                            UNION ALL
                                            SELECT R1.PARENT_TRANSACTION_ID TRANSACTION_ID,SUM(R1.QUANTITY) FROM RCV_TRANSACTIONS R1,RCV_TRANSACTIONS R2
                                             WHERE R1.PARENT_TRANSACTION_ID=R2.TRANSACTION_ID
                                              AND R1.SHIPMENT_HEADER_ID=R2.SHIPMENT_HEADER_ID
                                              AND R1.SHIPMENT_LINE_ID=R2.SHIPMENT_LINE_ID
                                              AND R1.TRANSACTION_TYPE ='CORRECT'
                                              AND R2.TRANSACTION_TYPE IN ('RECEIVE', 'MATCH')
                                              GROUP BY R1.PARENT_TRANSACTION_ID)
                                              GROUP BY TRANSACTION_ID HAVING SUM(QUANTITY)>0) RT1,
       MTL_SYSTEM_ITEMS_B MTL,
       MTL_UNITS_OF_MEASURE_TL MUOM,
       PO_LINE_LOCATIONS_ALL PLL,
       (SELECT  REQ_HEADER_REFERENCE_NUM, LINE_LOCATION_ID,
                        NVL(REQUISITION_HEADER_ID,XX_P2P_PKG.XX_FND_REQ_SEG_HDR(REQ_HEADER_REFERENCE_NUM,ORG_ID)) REQUISITION_HEADER_ID
                   FROM XX_PO_DISTRIBUTIONS_V
                   WHERE 1 = 1  --NVL(requisition_header_id,XX_P2P_PKG.XX_FND_REQ_SEG_HDR(req_header_reference_num,ORG_ID))  IS NOT NULL 
                    GROUP BY REQ_HEADER_REFERENCE_NUM, LINE_LOCATION_ID,
                    NVL(REQUISITION_HEADER_ID,XX_P2P_PKG.XX_FND_REQ_SEG_HDR(REQ_HEADER_REFERENCE_NUM,ORG_ID ))) PDA
 WHERE RSH.SHIPMENT_HEADER_ID = RSL.SHIPMENT_HEADER_ID
   AND RSL.PO_HEADER_ID = POH.PO_HEADER_ID(+)
   AND POH.FROM_HEADER_ID = POH1.PO_HEADER_ID(+)
   AND RSL.PO_LINE_ID = POL.PO_LINE_ID(+)
   -- AND poh.po_header_id = pol.po_header_id
   AND SUP.VENDOR_ID = SUS.VENDOR_ID
   AND RSH.VENDOR_ID(+) = SUP.VENDOR_ID
   AND RT.VENDOR_SITE_ID = SUS.VENDOR_SITE_ID(+)
   AND RSL.TO_ORGANIZATION_ID = OOD.ORGANIZATION_ID
   AND AI.INVOICE_ID(+) = AIL.INVOICE_ID
   AND RSL.SHIPMENT_LINE_ID = AIL.RCV_SHIPMENT_LINE_ID(+)
   AND RSL.SHIPMENT_HEADER_ID = RT.SHIPMENT_HEADER_ID
   AND RSL.SHIPMENT_LINE_ID = RT.SHIPMENT_LINE_ID
   AND RT.TRANSACTION_TYPE IN ('RECEIVE', 'MATCH')
   AND RT.TRANSACTION_ID=RT1.TRANSACTION_ID 
   AND RSL.SHIPMENT_HEADER_ID = RD.SHIPMENT_HEADER_ID(+)
   AND RSL.SHIPMENT_LINE_ID = RD.SHIPMENT_LINE_ID(+)
   AND RSL.ITEM_ID = MTL.INVENTORY_ITEM_ID
   AND MTL.ORGANIZATION_ID = RSL.TO_ORGANIZATION_ID
   AND RSL.UNIT_OF_MEASURE = MUOM.UNIT_OF_MEASURE
   AND RSL.PO_RELEASE_ID = POR.PO_RELEASE_ID(+) 
   AND RSL.PO_HEADER_ID = POR.PO_HEADER_ID(+)
   AND RSL.PO_LINE_LOCATION_ID = PLL.LINE_LOCATION_ID(+)
   AND PDA.LINE_LOCATION_ID(+) = PLL.LINE_LOCATION_ID
   AND RSL.TO_ORGANIZATION_ID=:P_ORG_ID
   --AND rsh.receipt_num='38'
   AND RSH.SHIPMENT_HEADER_ID BETWEEN NVL(:P_GRN_F,RSH.SHIPMENT_HEADER_ID) AND NVL(:P_GRN_T,RSH.SHIPMENT_HEADER_ID)
   AND NVL2(:P_CR_DT_F,TRUNC(RSH.CREATION_DATE),RSH.CREATION_DATE) BETWEEN
   NVL(FND_DATE.CANONICAL_TO_DATE(:P_CR_DT_F),RSH.CREATION_DATE) 
   AND NVL(FND_DATE.CANONICAL_TO_DATE(:P_CR_DT_T),RSH.CREATION_DATE) 
   GROUP BY RSH.SHIPMENT_HEADER_ID, RSL.SHIPMENT_LINE_ID, POH.TYPE_LOOKUP_CODE, SUP.VENDOR_NAME,:P_OU_ID,:P_ORG_ID, 
       RSH.SHIPMENT_HEADER_ID,SUP.SEGMENT1||'('||SUP.VENDOR_TYPE_LOOKUP_CODE||')', SUS.VENDOR_SITE_CODE,
       RSH.RECEIPT_NUM ,RSH.COMMENTS,
       TO_CHAR (TRUNC (RSH.CREATION_DATE), 'DD-MON-RR'),
       NVL(RSH.SHIPMENT_NUM,RSH.BILL_OF_LADING),
       TO_CHAR (TRUNC (RSH.SHIPPED_DATE), 'DD-MON-RR'),
       POH.SEGMENT1 , POR.RELEASE_NUM,
       TO_CHAR (TRUNC (POR.RELEASE_DATE), 'DD-MON-RR'),
       TO_CHAR (TRUNC (POH.CREATION_DATE), 'DD-MON-RR'),
       TO_CHAR (TRUNC (RT.TRANSACTION_DATE), 'DD-MON-RR'),
       POL.ATTRIBUTE1, POL.ATTRIBUTE2,
       POL.ATTRIBUTE3,POL.ATTRIBUTE8, POH1.SEGMENT1, OOD.ORGANIZATION_CODE,
       OOD.ORGANIZATION_NAME, RSL.TO_ORGANIZATION_ID,RD.SUBINVENTORY,
       AI.INVOICE_NUM, TO_CHAR (AI.INVOICE_DATE, 'DD-MON-RR'),AI.INVOICE_ID,
       MTL.INVENTORY_ITEM_ID,MTL.SEGMENT1 || '.' || MTL.SEGMENT2 || '.' || MTL.SEGMENT3,
       RSL.ITEM_DESCRIPTION, MUOM.UOM_CODE,POH.PO_HEADER_ID,
     NVL( (RD.PO_UNIT_PRICE * RD.CURRENCY_CONVERSION_RATE),0),
             XX_P2P_PKG.XX_FND_EMP_NAME_UID (RSH.CREATED_BY),
     DECODE (PDA.REQ_HEADER_REFERENCE_NUM,
             NULL, XX_P2P_PKG.XX_FND_REQUISITION_INFO(PLL.ATTRIBUTE1,:P_OU_ID,PLL.ATTRIBUTE2,'RNUM'),
            'PR-'||PDA.REQ_HEADER_REFERENCE_NUM
            ) ,
     DECODE(XX_P2P_PKG.XX_FND_REQUISITION_DT_INFO(PDA.REQUISITION_HEADER_ID,:P_OU_ID),NULL,
      XX_P2P_PKG.XX_FND_REQUISITION_DT_INFO(PLL.ATTRIBUTE1,:P_OU_ID),
     XX_P2P_PKG.XX_FND_REQUISITION_DT_INFO(PDA.REQUISITION_HEADER_ID,:P_OU_ID))

--================================== 28-FEB-2019==========================================

SELECT NVL(ABS(SUM(PRIMARY_QUANTITY)),0)
FROM MTL_MATERIAL_TRANSACTIONS  
WHERE 
ORGANIZATION_ID=152  --P_ORG_ID
--AND SUBINVENTORY_CODE=NVL(P_SUBINVENTORY_CODE,SUBINVENTORY_CODE)
AND INVENTORY_ITEM_ID= 127 --145 --127  --145   --P_INVENTORY_ITEM_ID 
AND TRANSACTION_DATE BETWEEN '01-NOV-2018' AND '30-NOV-2018' 
--AND TRUNC( TRANSACTION_DATE) BETWEEN TO_DATE(P_DATE_FROM) AND TO_DATE(P_DATE_TO)
--AND LAST_UPDATED_BY IN (SELECT USER_ID FROM XX_INV_EMP_DEPT_VW WHERE DEPARTMENT=P_DEPT)
AND PRIMARY_QUANTITY<0;

--============================================================================

SELECT * FROM ORG_ORGANIZATION_DEFINITIONS


SELECT * FROM PO_REQUISITION_HEADERS_ALL WHERE SEGMENT1 = '10000545' AND ORG_ID = 103


SELECT * FROM  MTL_SYSTEM_ITEMS_B WHERE DESCRIPTION =  'ENGINE OIL 20 W 50'


SELECT * FROM MTL_MATERIAL_TRANSACTIONS

SELECT * FROM  MTL_UNITS_OF_MEASURE_TL 

 (SELECT INVENTORY_ITEM_ID , SUM(PRIMARY_QUANTITY) FROM MTL_MATERIAL_TRANSACTIONS GROUP BY INVENTORY_ITEM_ID ) MMT ,
  
 SELECT * FROM WBI_XXKBGITEM_MT_D WXMD WHERE INVENTORY_ITEM_ID =  127 AND ORGANIZATION_CODE = 'TRM'
 
 --=============================================================================
 
  --==================================3-FEB-2019===========================================
 
 --BLANKET PO STATUS
 
 SELECT * FROM PO_HEADERS_ALL WHERE TYPE_LOOKUP_CODE = 'BLANKET' AND AUTHORIZATION_STATUS = 'APPROVED' AND ORG_ID = 104 AND SEGMENT1 = '40000914'
 
 --================================= 3 apr 2019=============================================
 
 SELECT * FROM XXKBG_BI_PO_GRN BPG
WHERE ITEM_ID =14      --1042

SELECT OU_ID,  PO_HEADER_ID,PO_NUMBER,PO_TYPE, SYSTEM_PO_TYPE, ITEM_ID , RATE, CURRENCY, PRICE , DECODE( RATE , NULL ,PRICE, NVL(RATE,0)*PRICE) CONV_PRICE
  FROM XXKBG_BI_PO_GRN BPG
WHERE ITEM_ID =14 

DECODE (WAREHOUSE_ID, 1, 'Southlake', 
                             2, 'San Francisco', 
                             3, 'New Jersey', 
                             4, 'Seattle',
                                'Non domestic') 




SELECT  BPG.OU_ID,SUBSTR(XX_GET_HR_OPERATING_UNIT(:P_ORG_ID),5,200) ORG_HEADER_NAME,
BPG.ITEM_TYPE ,
BPG.ITEM_GROUP ,
 BPG.ITEM_SUBGROUP ,
   BPG.ITEM_CATEGORY, 
   BPG.ITEM ITEM_CODE, 
   BPG.ITEM_DESCRIPTION ,
    BPG.ITEM_ID ,  BPG.UOM , 
--    MAX(STORE_DELIVERY_DATE),
    SUM(BPG.STORE_QTY) DELV_QTY, 
    AVG(BPG.PRICE) UNIT_PRICE,
   SUM((DECODE( RATE , NULL ,PRICE, NVL(RATE,0)*PRICE))) "CONV_PRICE", 
    SUM(BPG.STORE_QTY)*AVG(BPG.PRICE) AMOUNT
FROM XXKBG_BI_PO_GRN BPG  
WHERE  BPG.OU_ID = NVL(:P_ORG_ID,BPG.OU_ID )
AND BPG.ITEM_TYPE = NVL(:P_ITEMTYPE, BPG.ITEM_TYPE)
AND BPG.ITEM_GROUP = NVL(:P_ITMGROUP, BPG.ITEM_GROUP)
AND BPG.ITEM_SUBGROUP = NVL(:P_SUBGROUP, BPG.ITEM_SUBGROUP)
AND BPG.ITEM_ID = NVL(:P_ITEMID, BPG.ITEM_ID) 
--AND VENDOR_ID = NVL(:P_VENDOR, VENDOR_ID ) 
AND (:P_F_DELV_DT IS NULL OR TRUNC( BPG.STORE_DELIVERY_DATE) BETWEEN :P_F_DELV_DT AND :P_T_DELV_DT) 
GROUP BY  BPG.OU_ID, ITEM_TYPE , 
BPG.ITEM_GROUP ,
 BPG.ITEM_SUBGROUP , 
 BPG.ITEM_CATEGORY, 
 BPG.ITEM_DESCRIPTION ,
 -- STORE_DELIVERY_DATE,
 BPG.ITEM_ID , 
 BPG.ITEM, 
 BPG.UOM    
 
 
 --==================================================
 
 (SELECT  DISTINCT SEGMENT1  FROM  MTL_CATEGORIES)
 

 --============================== 
 
 SELECT NAME, 
       TYPE,
       DECODE(USAGE,'DECLARATION', 'body only', 'DEFINITION', 'spec and body', USAGE) DEFINED_ON,
       LINE BODY_LINE
  FROM USER_IDENTIFIERS UI
  WHERE TYPE IN ('PROCEDURE', 'FUNCTION')
  AND USAGE_CONTEXT_ID = (SELECT USAGE_ID
    FROM USER_IDENTIFIERS
      WHERE OBJECT_NAME = UI.OBJECT_NAME
        AND OBJECT_TYPE = UI.OBJECT_TYPE
        AND USAGE_CONTEXT_ID = 0)
 -- and object_name = 'your package name'
 -- and object_type = 'PACKAGE BODY'
  ORDER BY NAME
  
  --=========================================
  
SELECT * FROM PO_HEADERS_ALL WHERE SEGMENT1 = '40000716' AND ORG_ID = '81'


--============================ 30-JUN-2019==================

ALTER SYSTEM SET "_fix_control"='17376322:ON';


--===================== 01-JUL-2019=========================

SELECT * FROM ORG_ORGANIZATION_DEFINITIONS WHERE ORGANIZATION_CODE = 'KSA'

SELECT * FROM MTL_MATERIAL_TRANSACTIONS WHERE TRANSACTION_DATE BETWEEN '01-JUL-2019' AND '02-JUL-2019'

SELECT DISTINCT TRANSACTION_TYPE_NAME, TRANSACTION_TYPE_ID  FROM MTL_TRANSACTION_TYPES WHERE TRANSACTION_TYPE_NAME='Intransit Shipment'    -- 98--12--53 --52 --101 --17 --62


SELECT DISTINCT * FROM MTL_TRANSACTION_TYPES 
 


--=========================== PAyables issue===============================

--TO GET PERTIAL INVOICE 
------------------------------------

Select * from Ap_invoices_all where  payment_status_flag='P'  and CREATION_DATE between '01-MAR-2020' and '31-mar-2020'  -- 
